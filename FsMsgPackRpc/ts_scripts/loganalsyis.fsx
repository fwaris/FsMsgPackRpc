let s = """

Run: 0, R:0, E:0.010; Cash:3386.12; Stock:270; Gain:0.183084; Experienced:50000
model: current, Adg. Gain -  Test: 0.14539536, Train: -0.197589875





Run: 1, R:-0, E:0.010; Cash:1175627.38; Stock:0; Gain:0.175627; Experienced:50000
model: current, Adg. Gain -  Test: 0.11045088, Train: 0.267460125





Run: 2, R:0, E:0.010; Cash:3829.50; Stock:289; Gain:0.266543; Experienced:50000
model: current, Adg. Gain -  Test: 0.09333359999999999, Train: -0.011640375





Run: 3, R:-0, E:0.010; Cash:937068.50; Stock:0; Gain:-0.062932; Experienced:50000
model: current, Adg. Gain -  Test: 0.058184639999999996, Train: 0.21462075





Run: 4, R:0, E:0.010; Cash:4215.75; Stock:232; Gain:0.017882; Experienced:50000
model: current, Adg. Gain -  Test: -0.01118736, Train: 0.27270675





Run: 5, R:0, E:0.010; Cash:449.88; Stock:271; Gain:0.184517; Experienced:50000
model: current, Adg. Gain -  Test: 0.03559104, Train: 0.26885475





Run: 6, R:0, E:0.010; Cash:2782.50; Stock:311; Gain:0.361619; Experienced:50000
model: current, Adg. Gain -  Test: 0.25690464, Train: 0.171897125





Run: 7, R:0, E:0.010; Cash:723.38; Stock:298; Gain:0.302760; Experienced:50000
model: current, Adg. Gain -  Test: 0.19824624, Train: 0.12378499999999999





Run: 8, R:0, E:0.010; Cash:3172.62; Stock:266; Gain:0.165393; Experienced:50000
model: current, Adg. Gain -  Test: 0.270756, Train: -0.1495165





Run: 9, R:0, E:0.010; Cash:2216.25; Stock:243; Gain:0.063944; Experienced:50000
model: current, Adg. Gain -  Test: 0.1323792, Train: -0.12430100000000001





Run: 10, R:-0, E:0.010; Cash:1162679.88; Stock:0; Gain:0.162680; Experienced:50000
model: current, Adg. Gain -  Test: 0.18438623999999998, Train: -0.178147375





Run: 11, R:0, E:0.010; Cash:952.00; Stock:265; Gain:0.158803; Experienced:50000
model: current, Adg. Gain -  Test: 0.024894720000000002, Train: 0.203931375





Run: 12, R:0, E:0.010; Cash:2868.25; Stock:272; Gain:0.191304; Experienced:50000
model: current, Adg. Gain -  Test: 0.32818032, Train: -0.144296





Run: 13, R:0, E:0.010; Cash:2500.12; Stock:273; Gain:0.195305; Experienced:50000
model: current, Adg. Gain -  Test: -0.08890992, Train: 0.096185875





Run: 14, R:0, E:0.010; Cash:2591.00; Stock:308; Gain:0.348320; Experienced:50000
model: current, Adg. Gain -  Test: -0.03079872, Train: 0.017124375





Run: 15, R:0, E:0.010; Cash:4139.25; Stock:289; Gain:0.266852; Experienced:50000
model: current, Adg. Gain -  Test: 0.091656, Train: 0.22718475000000002





Run: 16, R:0, E:0.010; Cash:1630.62; Stock:243; Gain:0.063358; Experienced:50000
model: current, Adg. Gain -  Test: 0.0713376, Train: 0.213538875





Run: 17, R:0, E:0.010; Cash:2564.12; Stock:210; Gain:-0.079893; Experienced:50000
model: current, Adg. Gain -  Test: 0.0390744, Train: 0.211749125





Run: 18, R:0, E:0.010; Cash:4186.12; Stock:276; Gain:0.210099; Experienced:50000
model: current, Adg. Gain -  Test: 0.0867888, Train: -0.24450912500000002





Run: 19, R:0, E:0.010; Cash:1635.88; Stock:300; Gain:0.312411; Experienced:50000
model: current, Adg. Gain -  Test: 0.31240944000000004, Train: -0.29852575





Run: 20, R:0, E:0.010; Cash:502.38; Stock:275; Gain:0.202046; Experienced:50000
model: current, Adg. Gain -  Test: 0.11120112000000001, Train: 0.251702875





Run: 21, R:0, E:0.010; Cash:1024.25; Stock:267; Gain:0.167614; Experienced:50000
model: current, Adg. Gain -  Test: -0.06953759999999999, Train: 0.144322625





Run: 22, R:0, E:0.010; Cash:1659.12; Stock:294; Gain:0.286219; Experienced:50000
model: current, Adg. Gain -  Test: -0.036823680000000004, Train: 0.18900975





Run: 23, R:0, E:0.010; Cash:1210.25; Stock:284; Gain:0.242077; Experienced:50000
model: current, Adg. Gain -  Test: -0.1917072, Train: 0.184283





Run: 24, R:0, E:0.010; Cash:1072.75; Stock:286; Gain:0.250678; Experienced:50000
model: current, Adg. Gain -  Test: 0.04465296, Train: 0.026923





Run: 25, R:0, E:0.010; Cash:569.50; Stock:250; Gain:0.092882; Experienced:50000
model: current, Adg. Gain -  Test: -0.07729344, Train: 0.156672375





Run: 26, R:0, E:0.010; Cash:2661.00; Stock:256; Gain:0.121189; Experienced:50000
model: current, Adg. Gain -  Test: -0.06287328, Train: -0.311686125





Run: 27, R:0, E:0.010; Cash:4000.00; Stock:244; Gain:0.070097; Experienced:50000
model: current, Adg. Gain -  Test: -0.0575568, Train: 0.06262875





Run: 28, R:0, E:0.010; Cash:3080.12; Stock:254; Gain:0.112870; Experienced:50000
model: current, Adg. Gain -  Test: -0.08751600000000001, Train: 0.204499375





Run: 29, R:0, E:0.010; Cash:1248.25; Stock:255; Gain:0.115407; Experienced:50000
model: current, Adg. Gain -  Test: -0.014919840000000002, Train: 0.137117375





Run: 30, R:0, E:0.010; Cash:3920.12; Stock:245; Gain:0.074386; Experienced:50000
model: current, Adg. Gain -  Test: 0.010523520000000001, Train: 0.10796375





Run: 31, R:0, E:0.010; Cash:3511.38; Stock:286; Gain:0.253117; Experienced:50000
model: current, Adg. Gain -  Test: -0.18430848, Train: 0.201309125





Run: 32, R:-0, E:0.010; Cash:1110702.50; Stock:0; Gain:0.110702; Experienced:50000
model: current, Adg. Gain -  Test: -0.04421664, Train: 0.202208625





Run: 33, R:0, E:0.010; Cash:3677.25; Stock:240; Gain:0.052297; Experienced:50000
model: current, Adg. Gain -  Test: 0.006661439999999999, Train: 0.11742912500000001





Run: 34, R:0, E:0.010; Cash:4298.75; Stock:278; Gain:0.218950; Experienced:50000
model: current, Adg. Gain -  Test: -0.029835360000000002, Train: 0.14463975





Run: 35, R:0, E:0.010; Cash:939.75; Stock:265; Gain:0.158791; Experienced:50000
model: current, Adg. Gain -  Test: -0.02039184, Train: -0.034084





Run: 36, R:0, E:0.010; Cash:158.12; Stock:255; Gain:0.114317; Experienced:50000
model: current, Adg. Gain -  Test: 0.06702336, Train: 0.043766125





Run: 37, R:0, E:0.010; Cash:1311.50; Stock:272; Gain:0.189748; Experienced:50000
model: current, Adg. Gain -  Test: -0.01427904, Train: 0.055378875





Run: 38, R:0, E:0.010; Cash:510.00; Stock:276; Gain:0.206423; Experienced:50000
model: current, Adg. Gain -  Test: -0.10432944000000001, Train: 0.18346175





Run: 39, R:0, E:0.010; Cash:534.12; Stock:227; Gain:-0.007646; Experienced:50000
model: current, Adg. Gain -  Test: 0.21345696000000003, Train: 0.24636375





Run: 40, R:0, E:0.010; Cash:1989.88; Stock:257; Gain:0.124887; Experienced:50000
model: current, Adg. Gain -  Test: 0.12109248000000002, Train: 0.238206875





Run: 41, R:0, E:0.010; Cash:1616.25; Stock:238; Gain:0.041498; Experienced:50000
model: current, Adg. Gain -  Test: -0.08001648, Train: 0.036041





Run: 42, R:0, E:0.010; Cash:938.62; Stock:275; Gain:0.202482; Experienced:50000
model: current, Adg. Gain -  Test: 0.07813584, Train: -0.163904





Run: 43, R:0, E:0.010; Cash:142.00; Stock:262; Gain:0.144886; Experienced:50000
model: current, Adg. Gain -  Test: 0.06868224, Train: 0.159000125





Run: 44, R:0, E:0.010; Cash:2725.38; Stock:263; Gain:0.151838; Experienced:50000
model: current, Adg. Gain -  Test: 0.057748320000000006, Train: -0.17518





Run: 45, R:0, E:0.010; Cash:3571.25; Stock:220; Gain:-0.035194; Experienced:50000
model: current, Adg. Gain -  Test: 0.21069504, Train: -0.202968625





Run: 46, R:0, E:0.010; Cash:2091.00; Stock:268; Gain:0.173050; Experienced:50000
model: current, Adg. Gain -  Test: -0.045292320000000004, Train: 0.099737625





Run: 47, R:0, E:0.010; Cash:222.62; Stock:268; Gain:0.171182; Experienced:50000
model: current, Adg. Gain -  Test: -0.13021487999999998, Train: 0.1807565





Run: 48, R:0, E:0.010; Cash:3313.75; Stock:262; Gain:0.148057; Experienced:50000
model: current, Adg. Gain -  Test: -0.023247359999999998, Train: -0.219155375





Run: 49, R:0, E:0.010; Cash:1172.38; Stock:281; Gain:0.228932; Experienced:50000
model: current, Adg. Gain -  Test: -0.11597903999999999, Train: 0.3262845





Run: 50, R:0, E:0.010; Cash:4338.00; Stock:280; Gain:0.227728; Experienced:50000
model: current, Adg. Gain -  Test: 0.02196864, Train: 0.216631





Run: 51, R:0, E:0.010; Cash:2903.75; Stock:248; Gain:0.086478; Experienced:50000
model: current, Adg. Gain -  Test: -0.11105424, Train: 0.24990512500000003





Run: 52, R:0, E:0.010; Cash:3667.50; Stock:265; Gain:0.161519; Experienced:50000
model: current, Adg. Gain -  Test: -0.24183503999999997, Train: -0.213591375





Run: 53, R:0, E:0.010; Cash:2508.38; Stock:235; Gain:0.029282; Experienced:50000
model: current, Adg. Gain -  Test: -0.07900416, Train: 0.12977075





Run: 54, R:0, E:0.010; Cash:3110.62; Stock:256; Gain:0.121639; Experienced:50000
model: current, Adg. Gain -  Test: -0.00916704, Train: 0.280641





Run: 55, R:0, E:0.010; Cash:2696.88; Stock:240; Gain:0.051317; Experienced:50000
model: current, Adg. Gain -  Test: 0.034532639999999996, Train: -0.072907125





Run: 56, R:0, E:0.010; Cash:186.50; Stock:272; Gain:0.188622; Experienced:50000
model: current, Adg. Gain -  Test: 0.17101584000000003, Train: 0.30419775





Run: 57, R:0, E:0.010; Cash:3757.88; Stock:265; Gain:0.161609; Experienced:50000
model: current, Adg. Gain -  Test: 0.12956256, Train: 0.32410725





Run: 58, R:0, E:0.010; Cash:1862.25; Stock:257; Gain:0.124759; Experienced:50000
model: current, Adg. Gain -  Test: 0.20984255999999998, Train: -0.05544425000000001





Run: 59, R:0, E:0.010; Cash:2454.88; Stock:275; Gain:0.203999; Experienced:50000
model: current, Adg. Gain -  Test: -0.16915824000000002, Train: 0.317272





Run: 60, R:-0, E:0.010; Cash:959822.88; Stock:0; Gain:-0.040177; Experienced:50000
model: current, Adg. Gain -  Test: 0.014708160000000001, Train: 0.368350125





Run: 61, R:0, E:0.010; Cash:1669.75; Stock:240; Gain:0.050290; Experienced:50000
model: current, Adg. Gain -  Test: 0.03972672, Train: 0.28062525





Run: 62, R:0, E:0.010; Cash:2579.50; Stock:280; Gain:0.225969; Experienced:50000
model: current, Adg. Gain -  Test: 0.08877456, Train: 0.22557325





Run: 63, R:0, E:0.010; Cash:3087.25; Stock:259; Gain:0.134723; Experienced:50000
model: current, Adg. Gain -  Test: -0.06939216000000001, Train: 0.3030435





Run: 64, R:0, E:0.010; Cash:2777.00; Stock:217; Gain:-0.049096; Experienced:50000
model: current, Adg. Gain -  Test: 0.08665488, Train: -0.11338250000000001





Run: 65, R:0, E:0.010; Cash:982.25; Stock:273; Gain:0.193788; Experienced:50000
model: current, Adg. Gain -  Test: -0.07700831999999999, Train: 0.37880125





Run: 66, R:-0, E:0.010; Cash:1133065.38; Stock:0; Gain:0.133065; Experienced:50000
model: current, Adg. Gain -  Test: 0.08279568, Train: 0.29428075





Run: 67, R:0, E:0.010; Cash:496.50; Stock:261; Gain:0.140871; Experienced:50000
model: current, Adg. Gain -  Test: -0.20133648, Train: 0.175521625





Run: 68, R:0, E:0.010; Cash:1889.75; Stock:288; Gain:0.260234; Experienced:50000
model: current, Adg. Gain -  Test: 0.06147792, Train: -0.039823625





Run: 69, R:0, E:0.010; Cash:3570.25; Stock:263; Gain:0.152683; Experienced:50000
model: current, Adg. Gain -  Test: 0.08211024, Train: -0.003649625





Run: 70, R:0, E:0.010; Cash:2234.62; Stock:282; Gain:0.234363; Experienced:50000
model: current, Adg. Gain -  Test: 0.144108, Train: 0.324106





Run: 71, R:0, E:0.010; Cash:1125.88; Stock:263; Gain:0.150239; Experienced:50000
model: current, Adg. Gain -  Test: -0.021775680000000002, Train: 0.328650375





Run: 72, R:0, E:0.010; Cash:193.12; Stock:232; Gain:0.013859; Experienced:50000
model: current, Adg. Gain -  Test: -0.04665744, Train: 0.3895045





Run: 73, R:0, E:0.010; Cash:806.38; Stock:273; Gain:0.193612; Experienced:50000
model: current, Adg. Gain -  Test: -0.26187984, Train: 0.237251875





Run: 74, R:0, E:0.010; Cash:2430.50; Stock:251; Gain:0.099112; Experienced:50000
model: current, Adg. Gain -  Test: -0.20140703999999998, Train: 0.171048875





Run: 75, R:0, E:0.010; Cash:1046.88; Stock:277; Gain:0.211329; Experienced:50000
model: current, Adg. Gain -  Test: 0.07141824, Train: 0.323117125





Run: 76, R:0, E:0.010; Cash:2052.50; Stock:265; Gain:0.159904; Experienced:50000
model: current, Adg. Gain -  Test: 0.17892576, Train: -0.087027875





Run: 77, R:0, E:0.010; Cash:1614.62; Stock:287; Gain:0.255589; Experienced:50000
model: current, Adg. Gain -  Test: -0.23815440000000002, Train: 0.366760125





Run: 78, R:0, E:0.010; Cash:3508.50; Stock:283; Gain:0.240006; Experienced:50000
model: current, Adg. Gain -  Test: -0.04364784, Train: 0.021372





Run: 79, R:0, E:0.010; Cash:1499.25; Stock:279; Gain:0.220520; Experienced:50000
model: current, Adg. Gain -  Test: -0.01214928, Train: 0.295575875





Run: 80, R:0, E:0.010; Cash:979.38; Stock:276; Gain:0.206892; Experienced:50000
model: current, Adg. Gain -  Test: 0.01063296, Train: 0.034997875





Run: 81, R:0, E:0.010; Cash:1080.50; Stock:266; Gain:0.163301; Experienced:50000
model: current, Adg. Gain -  Test: 0.08693856, Train: 0.332932375





Run: 82, R:0, E:0.010; Cash:661.75; Stock:271; Gain:0.184728; Experienced:50000
model: current, Adg. Gain -  Test: -0.00310032, Train: 0.34649875





Run: 83, R:0, E:0.010; Cash:863.62; Stock:273; Gain:0.193669; Experienced:50000
model: current, Adg. Gain -  Test: -0.0228888, Train: 0.3148615





Run: 84, R:0, E:0.010; Cash:3479.50; Stock:229; Gain:0.004038; Experienced:50000
model: current, Adg. Gain -  Test: 0.24133680000000002, Train: 0.112648





Run: 85, R:0, E:0.010; Cash:4000.00; Stock:275; Gain:0.205544; Experienced:50000
model: current, Adg. Gain -  Test: 0.22408704000000002, Train: -0.1390415





Run: 86, R:0, E:0.010; Cash:1212.88; Stock:268; Gain:0.172172; Experienced:50000
model: current, Adg. Gain -  Test: -0.16802064000000003, Train: 0.353862875





Run: 87, R:0, E:0.010; Cash:3603.50; Stock:254; Gain:0.113393; Experienced:50000
model: current, Adg. Gain -  Test: 0.0024220799999999996, Train: 0.18044175





Run: 88, R:-0, E:0.010; Cash:1163766.50; Stock:0; Gain:0.163767; Experienced:50000
model: current, Adg. Gain -  Test: -0.1034712, Train: 0.411897





Run: 89, R:0, E:0.010; Cash:1704.62; Stock:229; Gain:0.002263; Experienced:50000
model: current, Adg. Gain -  Test: -0.05712048000000001, Train: -0.025683





Run: 90, R:0, E:0.010; Cash:3903.50; Stock:266; Gain:0.166124; Experienced:50000
model: current, Adg. Gain -  Test: 0.15403824, Train: -0.015139125000000002





Run: 91, R:0, E:0.010; Cash:4072.38; Stock:235; Gain:0.030846; Experienced:50000
model: current, Adg. Gain -  Test: -0.13981968, Train: 0.292059125





Run: 92, R:0, E:0.010; Cash:1750.38; Stock:261; Gain:0.142125; Experienced:50000
model: current, Adg. Gain -  Test: 0.046886399999999995, Train: -0.059743500000000005





Run: 93, R:0, E:0.010; Cash:3972.12; Stock:270; Gain:0.183670; Experienced:50000
model: current, Adg. Gain -  Test: -0.12847967999999999, Train: 0.322730375





Run: 94, R:-0, E:0.010; Cash:1114308.75; Stock:0; Gain:0.114309; Experienced:50000
model: current, Adg. Gain -  Test: -0.21212496, Train: -0.00451825





Run: 95, R:0, E:0.010; Cash:621.25; Stock:235; Gain:0.027395; Experienced:50000
model: current, Adg. Gain -  Test: -0.14241888, Train: 0.422582





Run: 96, R:-0, E:0.010; Cash:1195378.00; Stock:0; Gain:0.195378; Experienced:50000
model: current, Adg. Gain -  Test: 0.03491136, Train: 0.183100375





Run: 97, R:0, E:0.010; Cash:3751.38; Stock:281; Gain:0.231511; Experienced:50000
model: current, Adg. Gain -  Test: 0.043986239999999996, Train: -0.11324687500000001





Run: 98, R:0, E:0.010; Cash:1727.50; Stock:252; Gain:0.102778; Experienced:50000
model: current, Adg. Gain -  Test: 0.06934752, Train: -0.01796675





Run: 99, R:0, E:0.010; Cash:2770.12; Stock:265; Gain:0.160621; Experienced:50000
model: current, Adg. Gain -  Test: 0.00194976, Train: 0.06188712500000001





Run: 100, R:0, E:0.010; Cash:527.50; Stock:236; Gain:0.031670; Experienced:50000
model: current, Adg. Gain -  Test: -0.045943200000000003, Train: -0.11477699999999999





Run: 101, R:0, E:0.010; Cash:1542.62; Stock:254; Gain:0.111332; Experienced:50000
model: current, Adg. Gain -  Test: 0.02244384, Train: 0.2735615





Run: 102, R:0, E:0.010; Cash:2884.88; Stock:291; Gain:0.274337; Experienced:50000
model: current, Adg. Gain -  Test: -0.00538704, Train: 0.216986





Run: 103, R:0, E:0.010; Cash:738.12; Stock:268; Gain:0.171697; Experienced:50000
model: current, Adg. Gain -  Test: 0.34501104, Train: 0.31390275





Run: 104, R:0, E:0.010; Cash:3463.50; Stock:259; Gain:0.135099; Experienced:50000
model: current, Adg. Gain -  Test: 0.15666048000000002, Train: 0.279529125





Run: 105, R:0, E:0.010; Cash:1667.12; Stock:269; Gain:0.176995; Experienced:50000
model: current, Adg. Gain -  Test: -0.028087200000000003, Train: -0.043124625





Run: 106, R:0, E:0.010; Cash:4154.75; Stock:272; Gain:0.192591; Experienced:50000
model: current, Adg. Gain -  Test: -0.08943264000000001, Train: -0.09246125





Run: 107, R:0, E:0.010; Cash:2734.25; Stock:271; Gain:0.186801; Experienced:50000
model: current, Adg. Gain -  Test: 0.02824416, Train: -0.104784375





Run: 108, R:0, E:0.010; Cash:2131.38; Stock:244; Gain:0.068228; Experienced:50000
model: current, Adg. Gain -  Test: -0.03954528, Train: -0.108872125





Run: 109, R:0, E:0.010; Cash:1017.25; Stock:275; Gain:0.202561; Experienced:50000
model: current, Adg. Gain -  Test: -0.11405231999999998, Train: 0.322720375





Run: 110, R:0, E:0.010; Cash:757.12; Stock:283; Gain:0.237255; Experienced:50000
model: current, Adg. Gain -  Test: -0.24997535999999998, Train: 0.304039875





Run: 111, R:0, E:0.010; Cash:533.25; Stock:282; Gain:0.232662; Experienced:50000
model: current, Adg. Gain -  Test: 0.23054543999999996, Train: -0.08443925





Run: 112, R:0, E:0.010; Cash:697.50; Stock:268; Gain:0.171656; Experienced:50000
model: current, Adg. Gain -  Test: -0.01993392, Train: 0.381543375





Run: 113, R:0, E:0.010; Cash:1210.62; Stock:283; Gain:0.237708; Experienced:50000
model: current, Adg. Gain -  Test: 0.06294816, Train: 0.337275375





Run: 114, R:0, E:0.010; Cash:2464.12; Stock:256; Gain:0.120992; Experienced:50000
model: current, Adg. Gain -  Test: -0.23351471999999998, Train: 0.397845875





Run: 115, R:0, E:0.010; Cash:3163.38; Stock:269; Gain:0.178492; Experienced:50000
model: current, Adg. Gain -  Test: 0.03514464, Train: -0.11690625





Run: 116, R:0, E:0.010; Cash:746.75; Stock:283; Gain:0.237244; Experienced:50000
model: current, Adg. Gain -  Test: -0.13939200000000002, Train: 0.409381375





Run: 117, R:0, E:0.010; Cash:1072.12; Stock:277; Gain:0.211354; Experienced:50000
model: current, Adg. Gain -  Test: -0.11635343999999999, Train: 0.4684447500000001





Run: 118, R:0, E:0.010; Cash:2874.00; Stock:263; Gain:0.151987; Experienced:50000
model: current, Adg. Gain -  Test: -0.19418256, Train: 0.321227





Run: 119, R:0, E:0.010; Cash:285.88; Stock:263; Gain:0.149399; Experienced:50000
model: current, Adg. Gain -  Test: 0.16335792000000002, Train: -0.08239325





Run: 120, R:0, E:0.010; Cash:925.88; Stock:289; Gain:0.263639; Experienced:50000
model: current, Adg. Gain -  Test: -0.3098304, Train: 0.320471125





Run: 121, R:0, E:0.010; Cash:1316.12; Stock:241; Gain:0.054305; Experienced:50000
model: current, Adg. Gain -  Test: 0.18979632, Train: -0.12358900000000002


Welcome to F# Interactive for .NET Core in Visual Studio. To execute code, either
  1. Use 'Send to Interactive' (Alt-Enter or right-click) from an F# script. The F# Interactive process will
     use any global.json settings associated with that script.
  2. Press 'Enter' to start. The F# Interactive process will use default settings.
> 

Microsoft (R) F# Interactive version 12.0.4.0 for F# 6.0
Copyright (c) Microsoft Corporation. All Rights Reserved.

For help type #help;;

> [Loading C:\Users\Faisa\.packagemanagement\nuget\Projects\5228--72c229b9-771d-4f37-9994-c264edfbdf86\Project.fsproj.fsx
 Loading C:\Users\Faisa\source\repos\FsMsgPackRpc\FsMsgPackRpc\scripts\../FsMsgPackRpc.fs
 Loading C:\Users\Faisa\source\repos\FsMsgPackRpc\FsMsgPackRpc\scripts\../AirSimCar.fs
 Loading C:\Users\Faisa\source\repos\FsMsgPackRpc\FsMsgPackRpc\scripts\../CarEnvironment.fs
 Loading C:\Users\Faisa\source\repos\FsMsgPackRpc\FsMsgPackRpc\scripts\../DDQN.fs
 Loading C:\Users\Faisa\source\repos\FsMsgPackRpc\FsMsgPackRpc\scripts\packages.fsx]
Binding session to 'C:/Users/Faisa/.nuget/packages/torchsharp/0.97.3/lib/netcoreapp3.1/TorchSharp.dll'...
module FSI_0003.Project.fsproj

namespace FSI_0003.FsMsgPackRpc
  type ServerResp =
    | Data of obj
    | Error of obj
  type Msg =
    | Req of (int * (System.Type * AsyncReplyChannel<ServerResp>))
    | Resp of int * obj * byte[]
  val createAgent:
    options: MessagePack.MessagePackSerializerOptions ->
      cts: System.Threading.CancellationTokenSource ->
      inbox: MailboxProcessor<Msg> -> Async<unit>
  type Client =
    interface System.IDisposable
    new: options: MessagePack.MessagePackSerializerOptions -> Client
    member
      Call: method: string * req: 'req -> System.Threading.Tasks.Task<'resp>
    member Connect: address: string * port: int -> unit
    member Disconnect: unit -> unit
    member
      Notify: method: string * req: 'req -> System.Threading.Tasks.Task<unit>
    member TcpClient: System.Net.Sockets.TcpClient

namespace FSI_0003.AirSimCar
  type Vector3r =
    {
      x_val: float
      y_val: float
      z_val: float
    }
    member ToArray: unit -> float[]
    static member Default: Vector3r
  type Quaternionr =
    {
      w_val: float
      x_val: float
      y_val: float
      z_val: float
    }
    member ToArray: unit -> float[]
    static member Default: Quaternionr
  type CarControls =
    {
      throttle: float
      steering: float
      brake: float
      handbrake: bool
      is_manual_gear: bool
      manual_gear: int
      gear_immediate: bool
    }
    static member Default: CarControls
  type Pose =
    {
      position: Vector3r
      orientation: Quaternionr
    }
  type Twist =
    {
      linear: Vector3r
      angular: Vector3r
    }
  type Accelerations =
    {
      linear: Vector3r
      angular: Vector3r
    }
  type KinematicsState =
    {
      position: Vector3r
      orientation: Quaternionr
      linear_velocity: Vector3r
      angular_velocity: Vector3r
      linear_acceleration: Vector3r
      angular_acceleration: Vector3r
    }
    static member Default: KinematicsState
  type CollisionInfo =
    {
      has_collided: bool
      normal: Vector3r
      impact_point: Vector3r
      position: Vector3r
      penetration_depth: float
      time_stamp: float
      object_name: string
      object_id: int
    }
  type CarState =
    {
      speed: float
      gear: int
      rpm: float
      maxrpm: float
      handbrake: bool
      kinematics_estimated: KinematicsState
      timestamp: uint64
    }
  [<Struct>]
  type ImageType =
    | Scene = 0
    | DepthPlanar = 1
    | DepthPerspective = 2
    | DepthVis = 3
    | DisparityNormalized = 4
    | Segmentation = 5
    | SurfaceNormals = 6
    | Infrared = 7
    | OpticalFlow = 8
    | OpticalFlowVis = 9
  type ImageRequest =
    {
      camera_name: string
      image_type: ImageType
      pixels_as_float: bool
      compress: bool
    }
  type ImageResponse =
    {
      image_data_uint8: uint8[]
      image_data_float: float32[]
      camera_name: string
      camera_position: Vector3r
      camera_orientation: Quaternionr
      time_stamp: uint64
      message: string
      pixels_as_float: bool
      compress: bool
      width: int
      height: int
      image_type: ImageType
    }
  val address: string
  val port: int
  val resolver: MessagePack.IFormatterResolver
  val options: MessagePack.MessagePackSerializerOptions
  type CarClient =
    inherit FsMsgPackRpc.Client
    new: options: MessagePack.MessagePackSerializerOptions -> CarClient
    member
      armDisarm: arm: bool * ?vehicle_name: string ->
                   System.Threading.Tasks.Task<bool>
    member
      enableApiControl: isEnabled: 'a * ?vehicle_name: string ->
                          System.Threading.Tasks.Task<unit>
    member
      getCarState: ?vehicle_name: string ->
                     System.Threading.Tasks.Task<CarState>
    member getServerVersion: unit -> System.Threading.Tasks.Task<int>
    member
      isApiControlEnabled: ?vehicle_name: string ->
                             System.Threading.Tasks.Task<bool>
    member reset: unit -> System.Threading.Tasks.Task<unit>
    member
      setCarControls: car_controls: CarControls * ?vehicle_name: string ->
                        System.Threading.Tasks.Task<unit>
    member
      simGetCollisionInfo: ?vehicle_name: string ->
                             System.Threading.Tasks.Task<CollisionInfo>
    member
      simGetGroundTruthKinematics: ?vehicle_name: string ->
                                     System.Threading.Tasks.Task<KinematicsState>
    member
      simGetImage: camera_name: string * image_type: ImageType *
                   ?vehicle_name: string * ?external: bool ->
                     System.Threading.Tasks.Task<uint8[]>
    member
      simGetImages: requests: ImageRequest[] * ?vehicle_name: string *
                    ?external: bool ->
                      System.Threading.Tasks.Task<ImageResponse[]>
    member
      simGetObjectPose: object_name: string ->
                          System.Threading.Tasks.Task<Pose>
    member
      simListSceneObjects: ?name_regex: string ->
                             System.Threading.Tasks.Task<string list>
    member
      simSetKinematics: state: KinematicsState * ?ignore_collision: bool *
                        ?vehicle_name: string ->
                          System.Threading.Tasks.Task<unit>
    member
      simSetObjectPose: object_name: string * pose: Pose * teleport: bool ->
                          System.Threading.Tasks.Task<bool>

module FSI_0003.CarEnvironment
val discreteActions: int
type RLState =
  {
    Pose: TorchSharp.torch.Tensor
    Speed: float
    Collision: bool
    DepthImage: TorchSharp.torch.Tensor
    PrevDepthImage: TorchSharp.torch.Tensor
    WasReset: bool
  }
  static member Default: RLState
type DoneReason =
  | LowReward
  | Collision
  | Stuck
  | NotDone
val doAction:
  c: AirSimCar.CarClient ->
    action: int ->
    carCtrl: AirSimCar.CarControls ->
    waitMs: int -> Async<AirSimCar.CarControls>
val imageRequest: AirSimCar.ImageRequest[]
val transformImage: resp: AirSimCar.ImageResponse -> TorchSharp.torch.Tensor
val getObservations:
  c: AirSimCar.CarClient ->
    prevState: RLState -> System.Threading.Tasks.Task<RLState>
val roadPts: TorchSharp.torch.Tensor list
val computeReward:
  state: RLState ->
    ctrls: AirSimCar.CarControls -> float * DoneReason * RLState
val step:
  c: AirSimCar.CarClient ->
    state: RLState * ctrls: AirSimCar.CarControls ->
      action: int ->
      waitMs: int ->
      System.Threading.Tasks.Task<RLState * AirSimCar.CarControls * float *
                                  DoneReason>
val rng: System.Random
val randRoadPoint:
  unit ->
    TorchSharp.torch.Tensor * TorchSharp.torch.Tensor *
    TorchSharp.torch.Tensor
val randPose: unit -> AirSimCar.Pose
val carId: string
val initCar: c: AirSimCar.CarClient -> System.Threading.Tasks.Task<unit>
val startRandomAgent: go: bool ref -> Async<unit>

module FSI_0003.DDQN
type DDQNModel =
  {
    Target: TorchSharp.Fun.IModel
    Online: TorchSharp.Fun.IModel
  }
type Experience =
  {
    State: TorchSharp.torch.Tensor
    NextState: TorchSharp.torch.Tensor
    Action: int
    Reward: float32
    Done: bool
  }
type ExperienceBuffer =
  {
    Buffer: FSharpx.Collections.RandomAccessList<Experience>
    Max: int
  }
type Exploration =
  {
    Rate: float
    Decay: float
    Min: float
  }
type Step =
  {
    Step: int
    ExplorationRate: float
  }
type DDQN =
  {
    Model: DDQNModel
    Gamma: float32
    Exploration: Exploration
    Step: Step
    Actions: int
    Device: TorchSharp.torch.Device
  }
module DDQNModel =
  val create: fmodel: (unit -> TorchSharp.Fun.IModel) -> DDQNModel
  val sync: models: DDQNModel -> device: TorchSharp.torch.Device -> unit
  val save: file: string -> ddqn: DDQNModel -> unit
  val load:
    fmodel: (unit -> TorchSharp.Fun.IModel) -> file: string -> DDQNModel
module Experience =
  val createBuffer: maxExperiance: int -> ExperienceBuffer
  val append: exp: Experience -> buff: ExperienceBuffer -> ExperienceBuffer
  val sample: n: int -> buff: ExperienceBuffer -> Experience[]
  val recall:
    n: int ->
      buff: ExperienceBuffer ->
      TorchSharp.torch.Tensor * TorchSharp.torch.Tensor * float32[] * int[] *
      bool[]
  type Tser =
    int * int64[] * List<float32[] * float32[] * int * float32 * bool>
  val save: path: string -> buff: ExperienceBuffer -> unit
  val load: path: string -> ExperienceBuffer
module DDQN =
  val rand: unit -> float
  val randint: n: int -> int
  val private updateStep: ddqn: DDQN -> DDQN
  val create:
    model: DDQNModel ->
      gamma: float32 ->
      exploration: Exploration ->
      actions: int -> device: TorchSharp.torch.Device -> DDQN
  val selectAction: state: TorchSharp.torch.Tensor -> ddqn: DDQN -> int * DDQN
  val actionIdx:
    actions: TorchSharp.torch.Tensor -> TorchSharp.torch.TensorIndex[]
  val td_estimate:
    state: TorchSharp.torch.Tensor ->
      actions: int[] -> ddqn: DDQN -> TorchSharp.torch.Tensor
  val td_target:
    reward: float32[] ->
      next_state: TorchSharp.torch.Tensor ->
      isDone: bool[] -> ddqn: DDQN -> TorchSharp.torch.Tensor

module FSI_0003.Packages
val userProfile: string
val nugetPath: string
val openCvLibPath: string
val path: string
val path': string


[Loading C:\Users\Faisa\.packagemanagement\nuget\Projects\5228--72c229b9-771d-4f37-9994-c264edfbdf86\Project.fsproj.fsx]
module FSI_0004.Project.fsproj

[Loading C:\Users\Faisa\source\repos\FsMsgPackRpc\FsMsgPackRpc\TsData.fs]
module FSI_0005.TsData
type Bar =
  {
    Open: float
    High: float
    Low: float
    Close: float
    Volume: float
    Time: System.DateTime
  }
val loadBars: file: string -> Bar[]

[Loading C:\Users\Faisa\source\repos\FsMsgPackRpc\FsMsgPackRpc\RL.fs]
module FSI_0006.RL
type Agent<'env,'state> =
  {
    doAction: ('env -> 'state -> int -> 'state)
    getObservations: ('env -> 'state -> 'state)
    computeRewards: ('env -> 'state -> int -> 'state * bool * float)
  }
type Policy<'state> =
  {
    selectAction: ('state -> Policy<'state> * int)
    update: ('state -> bool -> float -> Policy<'state> * 'state)
    sync: ('state -> unit)
  }
val step:
  env: 'a ->
    agent: Agent<'a,'b> -> policy: Policy<'b> * s0: 'b -> Policy<'b> * 'b

Binding session to 'C:/Users/Faisa/.nuget/packages/torchsharp.fun/0.60.0/lib/net6.0/TorchSharp.Fun.dll'...
Binding session to 'C:/Users/Faisa/.nuget/packages/fspickler/5.3.2/lib/netstandard2.0/FsPickler.dll'...
val device: TorchSharp.torch.Device = cuda
val root: string = "E:\s\tradestation"
val (@@) : a: string -> b: string -> string
val fn: string = "E:\s\tradestation\mes_5_min.bin"
val fnTest: string = "E:\s\tradestation\mes_5_min_test.bin"
val data: TsData.Bar[] =
  [|{ Open = 3989.25
      High = 3990.25
      Low = 3985.25
      Close = 3985.25
      Volume = 1316.0
      Time = 7/21/2022 6:05:00 PM }; { Open = 3985.0
                                       High = 3985.75
                                       Low = 3982.75
                                       Close = 3984.25
                                       Volume = 979.0
                                       Time = 7/21/2022 6:10:00 PM };
    { Open = 3984.5
      High = 3985.0
      Low = 3982.75
      Close = 3984.5
      Volume = 637.0
      Time = 7/21/2022 6:15:00 PM }; { Open = 3984.25
                                       High = 3987.25
                                       Low = 3983.25
                                       Close = 3986.75
                                       Volume = 689.0
                                       Time = 7/21/2022 6:20:00 PM };
    { Open = 3987.0
      High = 3989.5
      Low = 3986.25
      Close = 3986.5
      Volume = 1259.0
      Time = 7/21/2022 6:25:00 PM }; { Open = 3986.75
                                       High = 3989.25
                                       Low = 3986.25
                                       Close = 3988.25
                                       Volume = 523.0
                                       Time = 7/21/2022 6:30:00 PM };
    { Open = 3988.0
      High = 3990.0
      Low = 3987.25
      Close = 3988.5
      Volume = 782.0
      Time = 7/21/2022 6:35:00 PM }; { Open = 3988.5
                                       High = 3988.5
                                       Low = 3986.0
                                       Close = 3986.75
                                       Volume = 797.0
                                       Time = 7/21/2022 6:40:00 PM };
    { Open = 3986.75
      High = 3987.25
      Low = 3986.0
      Close = 3986.75
      Volume = 311.0
      Time = 7/21/2022 6:45:00 PM }; { Open = 3986.75
                                       High = 3987.75
                                       Low = 3985.5
                                       Close = 3987.25
                                       Volume = 282.0
                                       Time = 7/21/2022 6:50:00 PM };
    { Open = 3987.25
      High = 3987.5
      Low = 3985.5
      Close = 3986.25
      Volume = 200.0
      Time = 7/21/2022 6:55:00 PM }; { Open = 3986.5
                                       High = 3987.25
                                       Low = 3986.0
                                       Close = 3986.5
                                       Volume = 237.0
                                       Time = 7/21/2022 7:00:00 PM };
    { Open = 3986.25
      High = 3986.75
      Low = 3985.0
      Close = 3986.25
      Volume = 346.0
      Time = 7/21/2022 7:05:00 PM }; { Open = 3986.0
                                       High = 3986.5
                                       Low = 3985.25
                                       Close = 3985.75
                                       Volume = 172.0
                                       Time = 7/21/2022 7:10:00 PM };
    { Open = 3985.75
      High = 3986.75
      Low = 3985.5
      Close = 3985.75
      Volume = 174.0
      Time = 7/21/2022 7:15:00 PM }; { Open = 3985.5
                                       High = 3986.25
                                       Low = 3984.25
                                       Close = 3985.0
                                       Volume = 563.0
                                       Time = 7/21/2022 7:20:00 PM };
    { Open = 3985.0
      High = 3985.5
      Low = 3984.0
      Close = 3985.25
      Volume = 197.0
      Time = 7/21/2022 7:25:00 PM }; { Open = 3985.25
                                       High = 3987.25
                                       Low = 3985.0
                                       Close = 3987.0
                                       Volume = 384.0
                                       Time = 7/21/2022 7:30:00 PM };
    { Open = 3986.75
      High = 3988.25
      Low = 3985.75
      Close = 3987.0
      Volume = 795.0
      Time = 7/21/2022 7:35:00 PM }; { Open = 3987.25
                                       High = 3987.25
                                       Low = 3985.0
                                       Close = 3985.5
                                       Volume = 384.0
                                       Time = 7/21/2022 7:40:00 PM };
    { Open = 3985.5
      High = 3987.0
      Low = 3985.5
      Close = 3986.5
      Volume = 184.0
      Time = 7/21/2022 7:45:00 PM }; { Open = 3986.5
                                       High = 3987.25
                                       Low = 3985.25
                                       Close = 3986.25
                                       Volume = 454.0
                                       Time = 7/21/2022 7:50:00 PM };
    { Open = 3986.25
      High = 3986.25
      Low = 3983.5
      Close = 3984.25
      Volume = 578.0
      Time = 7/21/2022 7:55:00 PM }; { Open = 3984.0
                                       High = 3985.0
                                       Low = 3983.5
                                       Close = 3984.25
                                       Volume = 488.0
                                       Time = 7/21/2022 8:00:00 PM };
    { Open = 3984.25
      High = 3984.25
      Low = 3980.5
      Close = 3983.0
      Volume = 1650.0
      Time = 7/21/2022 8:05:00 PM }; { Open = 3983.0
                                       High = 3983.5
                                       Low = 3981.75
                                       Close = 3981.75
                                       Volume = 668.0
                                       Time = 7/21/2022 8:10:00 PM };
    { Open = 3981.5
      High = 3982.5
      Low = 3980.5
      Close = 3982.25
      Volume = 618.0
      Time = 7/21/2022 8:15:00 PM }; { Open = 3982.0
                                       High = 3985.0
                                       Low = 3981.75
                                       Close = 3984.0
                                       Volume = 938.0
                                       Time = 7/21/2022 8:20:00 PM };
    { Open = 3984.25
      High = 3985.5
      Low = 3983.75
      Close = 3984.75
      Volume = 369.0
      Time = 7/21/2022 8:25:00 PM }; { Open = 3985.0
                                       High = 3986.0
                                       Low = 3983.75
                                       Close = 3983.75
                                       Volume = 631.0
                                       Time = 7/21/2022 8:30:00 PM };
    { Open = 3983.75
      High = 3986.0
      Low = 3983.75
      Close = 3984.75
      Volume = 385.0
      Time = 7/21/2022 8:35:00 PM }; { Open = 3984.75
                                       High = 3986.5
                                       Low = 3983.0
                                       Close = 3986.25
                                       Volume = 598.0
                                       Time = 7/21/2022 8:40:00 PM };
    { Open = 3986.25
      High = 3986.5
      Low = 3984.0
      Close = 3984.25
      Volume = 337.0
      Time = 7/21/2022 8:45:00 PM }; { Open = 3984.5
                                       High = 3985.75
                                       Low = 3984.0
                                       Close = 3985.25
                                       Volume = 325.0
                                       Time = 7/21/2022 8:50:00 PM };
    { Open = 3985.25
      High = 3986.75
      Low = 3985.25
      Close = 3986.25
      Volume = 397.0
      Time = 7/21/2022 8:55:00 PM }; { Open = 3986.0
                                       High = 3987.5
                                       Low = 3985.75
                                       Close = 3987.25
                                       Volume = 555.0
                                       Time = 7/21/2022 9:00:00 PM };
    { Open = 3987.25
      High = 3987.25
      Low = 3983.25
      Close = 3984.0
      Volume = 984.0
      Time = 7/21/2022 9:05:00 PM }; { Open = 3984.0
                                       High = 3985.0
                                       Low = 3983.5
                                       Close = 3984.0
                                       Volume = 525.0
                                       Time = 7/21/2022 9:10:00 PM };
    { Open = 3983.75
      High = 3984.0
      Low = 3982.5
      Close = 3983.75
      Volume = 464.0
      Time = 7/21/2022 9:15:00 PM }; { Open = 3983.5
                                       High = 3984.0
                                       Low = 3981.25
                                       Close = 3982.75
                                       Volume = 687.0
                                       Time = 7/21/2022 9:20:00 PM };
    { Open = 3982.5
      High = 3984.25
      Low = 3982.25
      Close = 3983.25
      Volume = 475.0
      Time = 7/21/2022 9:25:00 PM }; { Open = 3983.25
                                       High = 3985.75
                                       Low = 3983.25
                                       Close = 3984.75
                                       Volume = 570.0
                                       Time = 7/21/2022 9:30:00 PM };
    { Open = 3984.75
      High = 3987.0
      Low = 3984.75
      Close = 3986.75
      Volume = 744.0
      Time = 7/21/2022 9:35:00 PM }; { Open = 3987.0
                                       High = 3989.25
                                       Low = 3986.0
                                       Close = 3988.5
                                       Volume = 1144.0
                                       Time = 7/21/2022 9:40:00 PM };
    { Open = 3988.5
      High = 3991.5
      Low = 3988.25
      Close = 3990.0
      Volume = 1503.0
      Time = 7/21/2022 9:45:00 PM }; { Open = 3989.75
                                       High = 3990.0
                                       Low = 3987.0
                                       Close = 3987.0
                                       Volume = 965.0
                                       Time = 7/21/2022 9:50:00 PM };
    { Open = 3987.25
      High = 3988.5
      Low = 3986.0
      Close = 3987.5
      Volume = 607.0
      Time = 7/21/2022 9:55:00 PM }; { Open = 3987.25
                                       High = 3988.5
                                       Low = 3986.75
                                       Close = 3988.25
                                       Volume = 475.0
                                       Time = 7/21/2022 10:00:00 PM };
    { Open = 3988.25
      High = 3989.25
      Low = 3987.25
      Close = 3988.75
      Volume = 583.0
      Time = 7/21/2022 10:05:00 PM }; { Open = 3988.5
                                        High = 3989.0
                                        Low = 3986.75
                                        Close = 3987.0
                                        Volume = 322.0
                                        Time = 7/21/2022 10:10:00 PM };
    { Open = 3987.0
      High = 3987.0
      Low = 3985.25
      Close = 3985.25
      Volume = 589.0
      Time = 7/21/2022 10:15:00 PM }; { Open = 3985.25
                                        High = 3986.25
                                        Low = 3984.0
                                        Close = 3985.75
                                        Volume = 719.0
                                        Time = 7/21/2022 10:20:00 PM };
    { Open = 3986.0
      High = 3986.5
      Low = 3984.75
      Close = 3984.75
      Volume = 435.0
      Time = 7/21/2022 10:25:00 PM }; { Open = 3984.75
                                        High = 3985.5
                                        Low = 3983.5
                                        Close = 3984.25
                                        Volume = 555.0
                                        Time = 7/21/2022 10:30:00 PM };
    { Open = 3984.0
      High = 3985.0
      Low = 3983.75
      Close = 3983.75
      Volume = 320.0
      Time = 7/21/2022 10:35:00 PM }; { Open = 3983.75
                                        High = 3983.75
                                        Low = 3982.0
                                        Close = 3982.25
                                        Volume = 652.0
                                        Time = 7/21/2022 10:40:00 PM };
    { Open = 3982.5
      High = 3984.5
      Low = 3982.25
      Close = 3984.25
      Volume = 494.0
      Time = 7/21/2022 10:45:00 PM }; { Open = 3984.5
                                        High = 3984.75
                                        Low = 3983.25
                                        Close = 3983.75
                                        Volume = 422.0
                                        Time = 7/21/2022 10:50:00 PM };
    { Open = 3983.5
      High = 3985.5
      Low = 3983.0
      Close = 3984.25
      Volume = 777.0
      Time = 7/21/2022 10:55:00 PM }; { Open = 3984.25
                                        High = 3984.5
                                        Low = 3983.0
                                        Close = 3983.5
                                        Volume = 341.0
                                        Time = 7/21/2022 11:00:00 PM };
    { Open = 3983.5
      High = 3985.25
      Low = 3983.25
      Close = 3984.5
      Volume = 358.0
      Time = 7/21/2022 11:05:00 PM }; { Open = 3984.25
                                        High = 3984.75
                                        Low = 3983.5
                                        Close = 3984.5
                                        Volume = 263.0
                                        Time = 7/21/2022 11:10:00 PM };
    { Open = 3984.5
      High = 3985.5
      Low = 3984.25
      Close = 3985.0
      Volume = 275.0
      Time = 7/21/2022 11:15:00 PM }; { Open = 3985.0
                                        High = 3986.0
                                        Low = 3983.75
                                        Close = 3983.75
                                        Volume = 368.0
                                        Time = 7/21/2022 11:20:00 PM };
    { Open = 3983.5
      High = 3984.25
      Low = 3982.25
      Close = 3983.0
      Volume = 513.0
      Time = 7/21/2022 11:25:00 PM }; { Open = 3983.0
                                        High = 3985.0
                                        Low = 3982.75
                                        Close = 3984.75
                                        Volume = 335.0
                                        Time = 7/21/2022 11:30:00 PM };
    { Open = 3984.75
      High = 3986.0
      Low = 3984.75
      Close = 3985.75
      Volume = 423.0
      Time = 7/21/2022 11:35:00 PM }; { Open = 3985.5
                                        High = 3986.0
                                        Low = 3984.5
                                        Close = 3985.25
                                        Volume = 302.0
                                        Time = 7/21/2022 11:40:00 PM };
    { Open = 3985.0
      High = 3986.0
      Low = 3984.75
      Close = 3986.0
      Volume = 255.0
      Time = 7/21/2022 11:45:00 PM }; { Open = 3986.0
                                        High = 3986.75
                                        Low = 3985.5
                                        Close = 3986.0
                                        Volume = 402.0
                                        Time = 7/21/2022 11:50:00 PM };
    { Open = 3985.75
      High = 3986.0
      Low = 3984.75
      Close = 3985.0
      Volume = 279.0
      Time = 7/21/2022 11:55:00 PM }; { Open = 3985.25
                                        High = 3986.5
                                        Low = 3984.75
                                        Close = 3986.25
                                        Volume = 259.0
                                        Time = 7/22/2022 12:00:00 AM };
    { Open = 3986.5
      High = 3987.25
      Low = 3986.25
      Close = 3987.25
      Volume = 332.0
      Time = 7/22/2022 12:05:00 AM }; { Open = 3987.0
                                        High = 3987.5
                                        Low = 3986.5
                                        Close = 3987.25
                                        Volume = 190.0
                                        Time = 7/22/2022 12:10:00 AM };
    { Open = 3987.5
      High = 3988.0
      Low = 3986.5
      Close = 3986.5
      Volume = 393.0
      Time = 7/22/2022 12:15:00 AM }; { Open = 3986.5
                                        High = 3986.75
                                        Low = 3985.75
                                        Close = 3986.5
                                        Volume = 177.0
                                        Time = 7/22/2022 12:20:00 AM };
    { Open = 3986.75
      High = 3987.5
      Low = 3986.5
      Close = 3986.75
      Volume = 256.0
      Time = 7/22/2022 12:25:00 AM }; { Open = 3987.0
                                        High = 3987.0
                                        Low = 3985.75
                                        Close = 3986.0
                                        Volume = 171.0
                                        Time = 7/22/2022 12:30:00 AM };
    { Open = 3986.0
      High = 3986.5
      Low = 3984.75
      Close = 3984.75
      Volume = 332.0
      Time = 7/22/2022 12:35:00 AM }; { Open = 3985.0
                                        High = 3986.25
                                        Low = 3984.75
                                        Close = 3985.5
                                        Volume = 154.0
                                        Time = 7/22/2022 12:40:00 AM };
    { Open = 3985.5
      High = 3985.75
      Low = 3984.75
      Close = 3985.0
      Volume = 172.0
      Time = 7/22/2022 12:45:00 AM }; { Open = 3985.25
                                        High = 3985.75
                                        Low = 3984.75
                                        Close = 3985.0
                                        Volume = 227.0
                                        Time = 7/22/2022 12:50:00 AM };
    { Open = 3985.0
      High = 3985.25
      Low = 3984.5
      Close = 3984.75
      Volume = 168.0
      Time = 7/22/2022 12:55:00 AM }; { Open = 3985.0
                                        High = 3985.25
                                        Low = ...
                                        Close = ...
                                        Volume = ...
                                        Time = ... }; ...|]
val d2: TsData.Bar = { Open = 4369.0
                       High = 4369.5
                       Low = 4367.0
                       Close = 4367.0
                       Volume = 496.0
                       Time = 2/17/2022 5:00:00 PM }
val d1: TsData.Bar = { Open = 3989.25
                       High = 3990.25
                       Low = 3985.25
                       Close = 3985.25
                       Volume = 1316.0
                       Time = 7/21/2022 6:05:00 PM }
val dataTest: TsData.Bar[] =
  [|{ Open = 4117.5
      High = 4118.5
      Low = 4116.75
      Close = 4118.25
      Volume = 638.0
      Time = 7/31/2022 7:55:00 PM }; { Open = 4118.25
                                       High = 4119.25
                                       Low = 4116.75
                                       Close = 4117.0
                                       Volume = 560.0
                                       Time = 7/31/2022 8:00:00 PM };
    { Open = 4117.0
      High = 4117.75
      Low = 4114.5
      Close = 4115.25
      Volume = 1353.0
      Time = 7/31/2022 8:05:00 PM }; { Open = 4115.25
                                       High = 4116.75
                                       Low = 4114.5
                                       Close = 4115.0
                                       Volume = 809.0
                                       Time = 7/31/2022 8:10:00 PM };
    { Open = 4115.0
      High = 4116.0
      Low = 4114.25
      Close = 4115.25
      Volume = 600.0
      Time = 7/31/2022 8:15:00 PM }; { Open = 4115.25
                                       High = 4120.0
                                       Low = 4115.25
                                       Close = 4118.5
                                       Volume = 1648.0
                                       Time = 7/31/2022 8:20:00 PM };
    { Open = 4118.5
      High = 4119.25
      Low = 4117.5
      Close = 4118.5
      Volume = 436.0
      Time = 7/31/2022 8:25:00 PM }; { Open = 4118.25
                                       High = 4120.25
                                       Low = 4118.0
                                       Close = 4119.5
                                       Volume = 468.0
                                       Time = 7/31/2022 8:30:00 PM };
    { Open = 4119.75
      High = 4120.0
      Low = 4117.25
      Close = 4117.25
      Volume = 493.0
      Time = 7/31/2022 8:35:00 PM }; { Open = 4117.25
                                       High = 4118.5
                                       Low = 4116.25
                                       Close = 4116.75
                                       Volume = 582.0
                                       Time = 7/31/2022 8:40:00 PM };
    { Open = 4116.75
      High = 4118.5
      Low = 4116.75
      Close = 4117.75
      Volume = 450.0
      Time = 7/31/2022 8:45:00 PM }; { Open = 4118.0
                                       High = 4118.75
                                       Low = 4117.5
                                       Close = 4118.0
                                       Volume = 370.0
                                       Time = 7/31/2022 8:50:00 PM };
    { Open = 4118.0
      High = 4118.5
      Low = 4117.75
      Close = 4117.75
      Volume = 227.0
      Time = 7/31/2022 8:55:00 PM }; { Open = 4117.75
                                       High = 4118.0
                                       Low = 4116.5
                                       Close = 4117.25
                                       Volume = 403.0
                                       Time = 7/31/2022 9:00:00 PM };
    { Open = 4117.5
      High = 4118.25
      Low = 4115.25
      Close = 4116.5
      Volume = 705.0
      Time = 7/31/2022 9:05:00 PM }; { Open = 4116.25
                                       High = 4116.75
                                       Low = 4115.5
                                       Close = 4116.0
                                       Volume = 581.0
                                       Time = 7/31/2022 9:10:00 PM };
    { Open = 4115.75
      High = 4118.25
      Low = 4115.75
      Close = 4117.75
      Volume = 753.0
      Time = 7/31/2022 9:15:00 PM }; { Open = 4117.75
                                       High = 4119.5
                                       Low = 4117.25
                                       Close = 4119.25
                                       Volume = 876.0
                                       Time = 7/31/2022 9:20:00 PM };
    { Open = 4119.5
      High = 4120.0
      Low = 4117.75
      Close = 4118.0
      Volume = 1048.0
      Time = 7/31/2022 9:25:00 PM }; { Open = 4118.0
                                       High = 4119.0
                                       Low = 4117.75
                                       Close = 4118.75
                                       Volume = 317.0
                                       Time = 7/31/2022 9:30:00 PM };
    { Open = 4118.75
      High = 4120.5
      Low = 4116.75
      Close = 4120.0
      Volume = 1146.0
      Time = 7/31/2022 9:35:00 PM }; { Open = 4120.25
                                       High = 4121.25
                                       Low = 4119.25
                                       Close = 4120.25
                                       Volume = 1183.0
                                       Time = 7/31/2022 9:40:00 PM };
    { Open = 4120.0
      High = 4120.75
      Low = 4118.0
      Close = 4119.0
      Volume = 681.0
      Time = 7/31/2022 9:45:00 PM }; { Open = 4119.0
                                       High = 4119.0
                                       Low = 4116.75
                                       Close = 4117.0
                                       Volume = 706.0
                                       Time = 7/31/2022 9:50:00 PM };
    { Open = 4117.0
      High = 4119.25
      Low = 4116.5
      Close = 4119.0
      Volume = 1187.0
      Time = 7/31/2022 9:55:00 PM }; { Open = 4119.0
                                       High = 4120.5
                                       Low = 4118.25
                                       Close = 4119.5
                                       Volume = 693.0
                                       Time = 7/31/2022 10:00:00 PM };
    { Open = 4119.25
      High = 4119.75
      Low = 4117.75
      Close = 4118.0
      Volume = 415.0
      Time = 7/31/2022 10:05:00 PM }; { Open = 4118.0
                                        High = 4118.75
                                        Low = 4117.5
                                        Close = 4117.75
                                        Volume = 417.0
                                        Time = 7/31/2022 10:10:00 PM };
    { Open = 4118.0
      High = 4118.0
      Low = 4116.75
      Close = 4118.0
      Volume = 297.0
      Time = 7/31/2022 10:15:00 PM }; { Open = 4118.0
                                        High = 4118.0
                                        Low = 4117.0
                                        Close = 4117.5
                                        Volume = 390.0
                                        Time = 7/31/2022 10:20:00 PM };
    { Open = 4117.5
      High = 4118.5
      Low = 4117.5
      Close = 4118.0
      Volume = 257.0
      Time = 7/31/2022 10:25:00 PM }; { Open = 4118.0
                                        High = 4120.5
                                        Low = 4118.0
                                        Close = 4120.25
                                        Volume = 843.0
                                        Time = 7/31/2022 10:30:00 PM };
    { Open = 4120.25
      High = 4121.25
      Low = 4119.5
      Close = 4119.75
      Volume = 812.0
      Time = 7/31/2022 10:35:00 PM }; { Open = 4119.5
                                        High = 4119.75
                                        Low = 4118.25
                                        Close = 4118.75
                                        Volume = 492.0
                                        Time = 7/31/2022 10:40:00 PM };
    { Open = 4118.5
      High = 4119.25
      Low = 4118.25
      Close = 4118.75
      Volume = 160.0
      Time = 7/31/2022 10:45:00 PM }; { Open = 4118.75
                                        High = 4120.0
                                        Low = 4118.75
                                        Close = 4119.25
                                        Volume = 234.0
                                        Time = 7/31/2022 10:50:00 PM };
    { Open = 4119.25
      High = 4119.75
      Low = 4118.75
      Close = 4119.75
      Volume = 270.0
      Time = 7/31/2022 10:55:00 PM }; { Open = 4120.0
                                        High = 4121.0
                                        Low = 4119.75
                                        Close = 4120.0
                                        Volume = 592.0
                                        Time = 7/31/2022 11:00:00 PM };
    { Open = 4120.25
      High = 4120.25
      Low = 4118.75
      Close = 4118.75
      Volume = 468.0
      Time = 7/31/2022 11:05:00 PM }; { Open = 4118.5
                                        High = 4119.0
                                        Low = 4117.75
                                        Close = 4118.25
                                        Volume = 515.0
                                        Time = 7/31/2022 11:10:00 PM };
    { Open = 4118.25
      High = 4119.25
      Low = 4117.5
      Close = 4118.0
      Volume = 358.0
      Time = 7/31/2022 11:15:00 PM }; { Open = 4118.25
                                        High = 4118.5
                                        Low = 4115.5
                                        Close = 4115.5
                                        Volume = 1067.0
                                        Time = 7/31/2022 11:20:00 PM };
    { Open = 4115.75
      High = 4115.75
      Low = 4114.25
      Close = 4114.25
      Volume = 1014.0
      Time = 7/31/2022 11:25:00 PM }; { Open = 4114.5
                                        High = 4115.0
                                        Low = 4112.75
                                        Close = 4113.5
                                        Volume = 1321.0
                                        Time = 7/31/2022 11:30:00 PM };
    { Open = 4113.75
      High = 4114.25
      Low = 4113.0
      Close = 4114.25
      Volume = 573.0
      Time = 7/31/2022 11:35:00 PM }; { Open = 4114.25
                                        High = 4114.5
                                        Low = 4114.0
                                        Close = 4114.5
                                        Volume = 281.0
                                        Time = 7/31/2022 11:40:00 PM };
    { Open = 4114.5
      High = 4114.5
      Low = 4114.0
      Close = 4114.5
      Volume = 218.0
      Time = 7/31/2022 11:45:00 PM }; { Open = 4114.5
                                        High = 4114.5
                                        Low = 4113.0
                                        Close = 4113.25
                                        Volume = 441.0
                                        Time = 7/31/2022 11:50:00 PM };
    { Open = 4113.25
      High = 4114.25
      Low = 4113.0
      Close = 4114.0
      Volume = 326.0
      Time = 7/31/2022 11:55:00 PM }; { Open = 4113.75
                                        High = 4114.25
                                        Low = 4113.75
                                        Close = 4114.0
                                        Volume = 306.0
                                        Time = 8/1/2022 12:00:00 AM };
    { Open = 4114.0
      High = 4114.25
      Low = 4113.5
      Close = 4114.25
      Volume = 279.0
      Time = 8/1/2022 12:05:00 AM }; { Open = 4114.25
                                       High = 4114.25
                                       Low = 4113.5
                                       Close = 4113.5
                                       Volume = 330.0
                                       Time = 8/1/2022 12:10:00 AM };
    { Open = 4113.25
      High = 4114.5
      Low = 4113.25
      Close = 4114.25
      Volume = 242.0
      Time = 8/1/2022 12:15:00 AM }; { Open = 4114.25
                                       High = 4115.75
                                       Low = 4114.25
                                       Close = 4115.5
                                       Volume = 594.0
                                       Time = 8/1/2022 12:20:00 AM };
    { Open = 4115.5
      High = 4116.0
      Low = 4115.25
      Close = 4115.75
      Volume = 250.0
      Time = 8/1/2022 12:25:00 AM }; { Open = 4116.0
                                       High = 4116.25
                                       Low = 4115.5
                                       Close = 4116.25
                                       Volume = 195.0
                                       Time = 8/1/2022 12:30:00 AM };
    { Open = 4116.25
      High = 4116.5
      Low = 4115.0
      Close = 4116.0
      Volume = 529.0
      Time = 8/1/2022 12:35:00 AM }; { Open = 4116.0
                                       High = 4116.25
                                       Low = 4114.75
                                       Close = 4114.75
                                       Volume = 245.0
                                       Time = 8/1/2022 12:40:00 AM };
    { Open = 4114.75
      High = 4115.75
      Low = 4114.5
      Close = 4115.25
      Volume = 165.0
      Time = 8/1/2022 12:45:00 AM }; { Open = 4115.5
                                       High = 4115.5
                                       Low = 4114.75
                                       Close = 4115.0
                                       Volume = 103.0
                                       Time = 8/1/2022 12:50:00 AM };
    { Open = 4115.25
      High = 4115.5
      Low = 4114.5
      Close = 4115.5
      Volume = 211.0
      Time = 8/1/2022 12:55:00 AM }; { Open = 4115.75
                                       High = 4116.5
                                       Low = 4115.5
                                       Close = 4116.25
                                       Volume = 252.0
                                       Time = 8/1/2022 1:00:00 AM };
    { Open = 4116.25
      High = 4116.5
      Low = 4115.75
      Close = 4115.75
      Volume = 302.0
      Time = 8/1/2022 1:05:00 AM }; { Open = 4115.75
                                      High = 4116.25
                                      Low = 4115.25
                                      Close = 4115.75
                                      Volume = 212.0
                                      Time = 8/1/2022 1:10:00 AM };
    { Open = 4115.75
      High = 4115.75
      Low = 4113.75
      Close = 4114.25
      Volume = 381.0
      Time = 8/1/2022 1:15:00 AM }; { Open = 4114.25
                                      High = 4115.25
                                      Low = 4113.75
                                      Close = 4115.0
                                      Volume = 352.0
                                      Time = 8/1/2022 1:20:00 AM };
    { Open = 4115.0
      High = 4115.25
      Low = 4114.0
      Close = 4114.0
      Volume = 169.0
      Time = 8/1/2022 1:25:00 AM }; { Open = 4114.0
                                      High = 4115.5
                                      Low = 4114.0
                                      Close = 4115.5
                                      Volume = 163.0
                                      Time = 8/1/2022 1:30:00 AM };
    { Open = 4115.5
      High = 4117.0
      Low = 4115.0
      Close = 4115.0
      Volume = 657.0
      Time = 8/1/2022 1:35:00 AM }; { Open = 4114.75
                                      High = 4115.25
                                      Low = 4113.25
                                      Close = 4113.25
                                      Volume = 471.0
                                      Time = 8/1/2022 1:40:00 AM };
    { Open = 4113.25
      High = 4113.25
      Low = 4111.0
      Close = 4111.5
      Volume = 1062.0
      Time = 8/1/2022 1:45:00 AM }; { Open = 4111.5
                                      High = 4113.5
                                      Low = 4111.5
                                      Close = 4113.5
                                      Volume = 528.0
                                      Time = 8/1/2022 1:50:00 AM };
    { Open = 4113.5
      High = 4115.75
      Low = 4113.5
      Close = 4115.5
      Volume = 692.0
      Time = 8/1/2022 1:55:00 AM }; { Open = 4115.25
                                      High = 4116.75
                                      Low = 4115.25
                                      Close = 4116.75
                                      Volume = 603.0
                                      Time = 8/1/2022 2:00:00 AM };
    { Open = 4116.75
      High = 4118.25
      Low = 4116.5
      Close = 4117.75
      Volume = 1152.0
      Time = 8/1/2022 2:05:00 AM }; { Open = 4117.5
                                      High = 4118.0
                                      Low = 4116.5
                                      Close = 4116.75
                                      Volume = 632.0
                                      Time = 8/1/2022 2:10:00 AM };
    { Open = 4116.75
      High = 4118.0
      Low = 4116.0
      Close = 4118.0
      Volume = 422.0
      Time = 8/1/2022 2:15:00 AM }; { Open = 4118.0
                                      High = 4118.25
                                      Low = 4115.75
                                      Close = 4116.25
                                      Volume = 522.0
                                      Time = 8/1/2022 2:20:00 AM };
    { Open = 4116.25
      High = 4117.0
      Low = 4115.25
      Close = 4115.25
      Volume = 630.0
      Time = 8/1/2022 2:25:00 AM }; { Open = 4115.25
                                      High = 4117.0
                                      Low = 4114.5
                                      Close = 4116.75
                                      Volume = 523.0
                                      Time = 8/1/2022 2:30:00 AM };
    { Open = 4116.5
      High = 4116.5
      Low = 4114.5
      Close = 4115.25
      Volume = 610.0
      Time = 8/1/2022 2:35:00 AM }; { Open = 4115.75
                                      High = 4115.75
                                      Low = 4114.0
                                      Close = 4115.25
                                      Volume = 475.0
                                      Time = 8/1/2022 2:40:00 AM };
    { Open = 4115.25
      High = 4117.0
      Low = 4115.25
      Close = 4116.5
      Volume = 412.0
      Time = 8/1/2022 2:45:00 AM }; { Open = 4116.5
                                      High = 4118.25
                                      Low = ...
                                      Close = ...
                                      Volume = ...
                                      Time = ... }; ...|]
val d2Test: TsData.Bar = { Open = 4155.75
                           High = 4156.25
                           Low = 4155.25
                           Close = 4155.5
                           Volume = 263.0
                           Time = 8/24/2022 10:30:00 PM }
val d1Test: TsData.Bar = { Open = 4117.5
                           High = 4118.5
                           Low = 4116.75
                           Close = 4118.25
                           Volume = 638.0
                           Time = 7/31/2022 7:55:00 PM }
val mutable verbose: bool = false
type RLState =
  {
    State: TorchSharp.torch.Tensor
    PrevState: TorchSharp.torch.Tensor
    TimeStep: int
    Stock: int
    CashOnHand: float
    InitialCash: float
    LookBack: int64
    ExpBuff: DDQN.ExperienceBuffer
    LearnEverySteps: int
    SyncEverySteps: int
    S_reward: float
    S_expRate: float
    S_gain: float
    Episode: int
  }
  static member Default: initialCash: float -> RLState
  static member Reset: x: RLState -> RLState
type Market =
  { prices: TsData.Bar array }
  member IsDone: t: int -> bool
  member reset: unit -> unit
module Agent =
  val bar: env: Market -> t: int -> TsData.Bar option
  val avgPrice: bar: TsData.Bar -> float
  val buy: env: Market -> s: RLState -> RLState
  val sell: env: Market -> s: RLState -> RLState
  val doAction: env: Market -> s: RLState -> act: int -> RLState
  val skipHead: TorchSharp.torch.TensorIndex = TorchSharp.torch+TensorIndex
  val getObservations: env: Market -> s: RLState -> RLState
  val computeRewards:
    env: Market -> s: RLState -> action: int -> RLState * bool * float
  val agent: RL.Agent<Market,RLState> = { doAction = <fun:agent@141>
                                          getObservations = <fun:agent@142-1>
                                          computeRewards = <fun:agent@143-2> }
module Policy =
  val createModel: unit -> TorchSharp.Fun.IModel
  val model: DDQN.DDQNModel = { Target = FSI_0007+Policy+createModel@150-44
                                Online = FSI_0007+Policy+createModel@150-44 }
  val lossFn: TorchSharp.Loss
  val exp: DDQN.Exploration = { Rate = 1.0
                                Decay = 0.9995
                                Min = 0.01 }
  val ddqn: DDQN.DDQN =
    { Model = { Target = FSI_0007+Policy+createModel@150-44
                Online = FSI_0007+Policy+createModel@150-44 }
      Gamma = 0.9998999834f
      Exploration = { Rate = 1.0
                      Decay = 0.9995
                      Min = 0.01 }
      Step = { Step = 0
               ExplorationRate = 1.0 }
      Actions = 2
      Device = cuda }
  val batchSize: int = 100
  val opt: TorchSharp.Modules.Adam
  val updateQ:
    td_estimate: TorchSharp.torch.Tensor ->
      td_target: TorchSharp.torch.Tensor -> float
  val learn: ddqn: DDQN.DDQN -> s: RLState -> RLState
  val syncModel: s: RLState -> unit
  val policy: ddqn: DDQN.DDQN -> RL.Policy<RLState>
  val initPolicy: unit -> RL.Policy<RLState>
module Test =
  val interimModel: string = "E:\s\tradestation\test_ddqn.bin"
  val saveInterim: unit -> unit
  val testMarket: unit -> Market
  val trainMarket: unit -> Market
  val evalModelTT:
    model: TorchSharp.Fun.IModel ->
      market: Market -> data: TsData.Bar[] -> refLen: int -> float
  val evalModel:
    name: string -> model: TorchSharp.Fun.IModel -> string * float * float
  val evalModelFile: modelFile: string -> string * float * float
  val copyModels: unit -> unit
  val evalModels: unit -> unit
  val runTest: unit -> (TorchSharp.Fun.IModel -> string * float * float)
  val clearModels: unit -> unit
val market: Market =
  { prices =
     [|{ Open = 3989.25
         High = 3990.25
         Low = 3985.25
         Close = 3985.25
         Volume = 1316.0
         Time = 7/21/2022 6:05:00 PM }; { Open = 3985.0
                                          High = 3985.75
                                          Low = 3982.75
                                          Close = 3984.25
                                          Volume = 979.0
                                          Time = 7/21/2022 6:10:00 PM };
       { Open = 3984.5
         High = 3985.0
         Low = 3982.75
         Close = 3984.5
         Volume = 637.0
         Time = 7/21/2022 6:15:00 PM }; { Open = 3984.25
                                          High = 3987.25
                                          Low = 3983.25
                                          Close = 3986.75
                                          Volume = 689.0
                                          Time = 7/21/2022 6:20:00 PM };
       { Open = 3987.0
         High = 3989.5
         Low = 3986.25
         Close = 3986.5
         Volume = 1259.0
         Time = 7/21/2022 6:25:00 PM }; { Open = 3986.75
                                          High = 3989.25
                                          Low = 3986.25
                                          Close = 3988.25
                                          Volume = 523.0
                                          Time = 7/21/2022 6:30:00 PM };
       { Open = 3988.0
         High = 3990.0
         Low = 3987.25
         Close = 3988.5
         Volume = 782.0
         Time = 7/21/2022 6:35:00 PM }; { Open = 3988.5
                                          High = 3988.5
                                          Low = 3986.0
                                          Close = 3986.75
                                          Volume = 797.0
                                          Time = 7/21/2022 6:40:00 PM };
       { Open = 3986.75
         High = 3987.25
         Low = 3986.0
         Close = 3986.75
         Volume = 311.0
         Time = 7/21/2022 6:45:00 PM }; { Open = 3986.75
                                          High = 3987.75
                                          Low = 3985.5
                                          Close = 3987.25
                                          Volume = 282.0
                                          Time = 7/21/2022 6:50:00 PM };
       { Open = 3987.25
         High = 3987.5
         Low = 3985.5
         Close = 3986.25
         Volume = 200.0
         Time = 7/21/2022 6:55:00 PM }; { Open = 3986.5
                                          High = 3987.25
                                          Low = 3986.0
                                          Close = 3986.5
                                          Volume = 237.0
                                          Time = 7/21/2022 7:00:00 PM };
       { Open = 3986.25
         High = 3986.75
         Low = 3985.0
         Close = 3986.25
         Volume = 346.0
         Time = 7/21/2022 7:05:00 PM }; { Open = 3986.0
                                          High = 3986.5
                                          Low = 3985.25
                                          Close = 3985.75
                                          Volume = 172.0
                                          Time = 7/21/2022 7:10:00 PM };
       { Open = 3985.75
         High = 3986.75
         Low = 3985.5
         Close = 3985.75
         Volume = 174.0
         Time = 7/21/2022 7:15:00 PM }; { Open = 3985.5
                                          High = 3986.25
                                          Low = 3984.25
                                          Close = 3985.0
                                          Volume = 563.0
                                          Time = 7/21/2022 7:20:00 PM };
       { Open = 3985.0
         High = 3985.5
         Low = 3984.0
         Close = 3985.25
         Volume = 197.0
         Time = 7/21/2022 7:25:00 PM }; { Open = 3985.25
                                          High = 3987.25
                                          Low = 3985.0
                                          Close = 3987.0
                                          Volume = 384.0
                                          Time = 7/21/2022 7:30:00 PM };
       { Open = 3986.75
         High = 3988.25
         Low = 3985.75
         Close = 3987.0
         Volume = 795.0
         Time = 7/21/2022 7:35:00 PM }; { Open = 3987.25
                                          High = 3987.25
                                          Low = 3985.0
                                          Close = 3985.5
                                          Volume = 384.0
                                          Time = 7/21/2022 7:40:00 PM };
       { Open = 3985.5
         High = 3987.0
         Low = 3985.5
         Close = 3986.5
         Volume = 184.0
         Time = 7/21/2022 7:45:00 PM }; { Open = 3986.5
                                          High = 3987.25
                                          Low = 3985.25
                                          Close = 3986.25
                                          Volume = 454.0
                                          Time = 7/21/2022 7:50:00 PM };
       { Open = 3986.25
         High = 3986.25
         Low = 3983.5
         Close = 3984.25
         Volume = 578.0
         Time = 7/21/2022 7:55:00 PM }; { Open = 3984.0
                                          High = 3985.0
                                          Low = 3983.5
                                          Close = 3984.25
                                          Volume = 488.0
                                          Time = 7/21/2022 8:00:00 PM };
       { Open = 3984.25
         High = 3984.25
         Low = 3980.5
         Close = 3983.0
         Volume = 1650.0
         Time = 7/21/2022 8:05:00 PM }; { Open = 3983.0
                                          High = 3983.5
                                          Low = 3981.75
                                          Close = 3981.75
                                          Volume = 668.0
                                          Time = 7/21/2022 8:10:00 PM };
       { Open = 3981.5
         High = 3982.5
         Low = 3980.5
         Close = 3982.25
         Volume = 618.0
         Time = 7/21/2022 8:15:00 PM }; { Open = 3982.0
                                          High = 3985.0
                                          Low = 3981.75
                                          Close = 3984.0
                                          Volume = 938.0
                                          Time = 7/21/2022 8:20:00 PM };
       { Open = 3984.25
         High = 3985.5
         Low = 3983.75
         Close = 3984.75
         Volume = 369.0
         Time = 7/21/2022 8:25:00 PM }; { Open = 3985.0
                                          High = 3986.0
                                          Low = 3983.75
                                          Close = 3983.75
                                          Volume = 631.0
                                          Time = 7/21/2022 8:30:00 PM };
       { Open = 3983.75
         High = 3986.0
         Low = 3983.75
         Close = 3984.75
         Volume = 385.0
         Time = 7/21/2022 8:35:00 PM }; { Open = 3984.75
                                          High = 3986.5
                                          Low = 3983.0
                                          Close = 3986.25
                                          Volume = 598.0
                                          Time = 7/21/2022 8:40:00 PM };
       { Open = 3986.25
         High = 3986.5
         Low = 3984.0
         Close = 3984.25
         Volume = 337.0
         Time = 7/21/2022 8:45:00 PM }; { Open = 3984.5
                                          High = 3985.75
                                          Low = 3984.0
                                          Close = 3985.25
                                          Volume = 325.0
                                          Time = 7/21/2022 8:50:00 PM };
       { Open = 3985.25
         High = 3986.75
         Low = 3985.25
         Close = 3986.25
         Volume = 397.0
         Time = 7/21/2022 8:55:00 PM }; { Open = 3986.0
                                          High = 3987.5
                                          Low = 3985.75
                                          Close = 3987.25
                                          Volume = 555.0
                                          Time = 7/21/2022 9:00:00 PM };
       { Open = 3987.25
         High = 3987.25
         Low = 3983.25
         Close = 3984.0
         Volume = 984.0
         Time = 7/21/2022 9:05:00 PM }; { Open = 3984.0
                                          High = 3985.0
                                          Low = 3983.5
                                          Close = 3984.0
                                          Volume = 525.0
                                          Time = 7/21/2022 9:10:00 PM };
       { Open = 3983.75
         High = 3984.0
         Low = 3982.5
         Close = 3983.75
         Volume = 464.0
         Time = 7/21/2022 9:15:00 PM }; { Open = 3983.5
                                          High = 3984.0
                                          Low = 3981.25
                                          Close = 3982.75
                                          Volume = 687.0
                                          Time = 7/21/2022 9:20:00 PM };
       { Open = 3982.5
         High = 3984.25
         Low = 3982.25
         Close = 3983.25
         Volume = 475.0
         Time = 7/21/2022 9:25:00 PM }; { Open = 3983.25
                                          High = 3985.75
                                          Low = 3983.25
                                          Close = 3984.75
                                          Volume = 570.0
                                          Time = 7/21/2022 9:30:00 PM };
       { Open = 3984.75
         High = 3987.0
         Low = 3984.75
         Close = 3986.75
         Volume = 744.0
         Time = 7/21/2022 9:35:00 PM }; { Open = 3987.0
                                          High = 3989.25
                                          Low = 3986.0
                                          Close = 3988.5
                                          Volume = 1144.0
                                          Time = 7/21/2022 9:40:00 PM };
       { Open = 3988.5
         High = 3991.5
         Low = 3988.25
         Close = 3990.0
         Volume = 1503.0
         Time = 7/21/2022 9:45:00 PM }; { Open = 3989.75
                                          High = 3990.0
                                          Low = 3987.0
                                          Close = 3987.0
                                          Volume = 965.0
                                          Time = 7/21/2022 9:50:00 PM };
       { Open = 3987.25
         High = 3988.5
         Low = 3986.0
         Close = 3987.5
         Volume = 607.0
         Time = 7/21/2022 9:55:00 PM }; { Open = 3987.25
                                          High = 3988.5
                                          Low = 3986.75
                                          Close = 3988.25
                                          Volume = 475.0
                                          Time = 7/21/2022 10:00:00 PM };
       { Open = 3988.25
         High = 3989.25
         Low = 3987.25
         Close = 3988.75
         Volume = 583.0
         Time = 7/21/2022 10:05:00 PM }; { Open = 3988.5
                                           High = 3989.0
                                           Low = 3986.75
                                           Close = 3987.0
                                           Volume = 322.0
                                           Time = 7/21/2022 10:10:00 PM };
       { Open = 3987.0
         High = 3987.0
         Low = 3985.25
         Close = 3985.25
         Volume = 589.0
         Time = 7/21/2022 10:15:00 PM }; { Open = 3985.25
                                           High = 3986.25
                                           Low = 3984.0
                                           Close = 3985.75
                                           Volume = 719.0
                                           Time = 7/21/2022 10:20:00 PM };
       { Open = 3986.0
         High = 3986.5
         Low = 3984.75
         Close = 3984.75
         Volume = 435.0
         Time = 7/21/2022 10:25:00 PM }; { Open = 3984.75
                                           High = 3985.5
                                           Low = 3983.5
                                           Close = 3984.25
                                           Volume = 555.0
                                           Time = 7/21/2022 10:30:00 PM };
       { Open = 3984.0
         High = 3985.0
         Low = 3983.75
         Close = 3983.75
         Volume = 320.0
         Time = 7/21/2022 10:35:00 PM }; { Open = 3983.75
                                           High = 3983.75
                                           Low = 3982.0
                                           Close = 3982.25
                                           Volume = 652.0
                                           Time = 7/21/2022 10:40:00 PM };
       { Open = 3982.5
         High = 3984.5
         Low = 3982.25
         Close = 3984.25
         Volume = 494.0
         Time = 7/21/2022 10:45:00 PM }; { Open = 3984.5
                                           High = 3984.75
                                           Low = 3983.25
                                           Close = 3983.75
                                           Volume = 422.0
                                           Time = 7/21/2022 10:50:00 PM };
       { Open = 3983.5
         High = 3985.5
         Low = 3983.0
         Close = 3984.25
         Volume = 777.0
         Time = 7/21/2022 10:55:00 PM }; { Open = 3984.25
                                           High = 3984.5
                                           Low = 3983.0
                                           Close = 3983.5
                                           Volume = 341.0
                                           Time = 7/21/2022 11:00:00 PM };
       { Open = 3983.5
         High = 3985.25
         Low = 3983.25
         Close = 3984.5
         Volume = 358.0
         Time = 7/21/2022 11:05:00 PM }; { Open = 3984.25
                                           High = 3984.75
                                           Low = 3983.5
                                           Close = 3984.5
                                           Volume = 263.0
                                           Time = 7/21/2022 11:10:00 PM };
       { Open = 3984.5
         High = 3985.5
         Low = 3984.25
         Close = 3985.0
         Volume = 275.0
         Time = 7/21/2022 11:15:00 PM }; { Open = 3985.0
                                           High = 3986.0
                                           Low = 3983.75
                                           Close = 3983.75
                                           Volume = 368.0
                                           Time = 7/21/2022 11:20:00 PM };
       { Open = 3983.5
         High = 3984.25
         Low = 3982.25
         Close = 3983.0
         Volume = 513.0
         Time = 7/21/2022 11:25:00 PM }; { Open = 3983.0
                                           High = 3985.0
                                           Low = 3982.75
                                           Close = 3984.75
                                           Volume = 335.0
                                           Time = 7/21/2022 11:30:00 PM };
       { Open = 3984.75
         High = 3986.0
         Low = 3984.75
         Close = 3985.75
         Volume = 423.0
         Time = 7/21/2022 11:35:00 PM }; { Open = 3985.5
                                           High = 3986.0
                                           Low = 3984.5
                                           Close = 3985.25
                                           Volume = 302.0
                                           Time = 7/21/2022 11:40:00 PM };
       { Open = 3985.0
         High = 3986.0
         Low = 3984.75
         Close = 3986.0
         Volume = 255.0
         Time = 7/21/2022 11:45:00 PM }; { Open = 3986.0
                                           High = 3986.75
                                           Low = 3985.5
                                           Close = 3986.0
                                           Volume = 402.0
                                           Time = 7/21/2022 11:50:00 PM };
       { Open = 3985.75
         High = 3986.0
         Low = 3984.75
         Close = 3985.0
         Volume = 279.0
         Time = 7/21/2022 11:55:00 PM }; { Open = 3985.25
                                           High = 3986.5
                                           Low = 3984.75
                                           Close = 3986.25
                                           Volume = 259.0
                                           Time = 7/22/2022 12:00:00 AM };
       { Open = 3986.5
         High = 3987.25
         Low = 3986.25
         Close = 3987.25
         Volume = 332.0
         Time = 7/22/2022 12:05:00 AM }; { Open = 3987.0
                                           High = 3987.5
                                           Low = 3986.5
                                           Close = 3987.25
                                           Volume = 190.0
                                           Time = 7/22/2022 12:10:00 AM };
       { Open = 3987.5
         High = 3988.0
         Low = 3986.5
         Close = 3986.5
         Volume = 393.0
         Time = 7/22/2022 12:15:00 AM }; { Open = 3986.5
                                           High = 3986.75
                                           Low = 3985.75
                                           Close = 3986.5
                                           Volume = 177.0
                                           Time = 7/22/2022 12:20:00 AM };
       { Open = 3986.75
         High = 3987.5
         Low = 3986.5
         Close = 3986.75
         Volume = 256.0
         Time = 7/22/2022 12:25:00 AM }; { Open = 3987.0
                                           High = 3987.0
                                           Low = 3985.75
                                           Close = 3986.0
                                           Volume = 171.0
                                           Time = 7/22/2022 12:30:00 AM };
       { Open = 3986.0
         High = 3986.5
         Low = 3984.75
         Close = 3984.75
         Volume = 332.0
         Time = 7/22/2022 12:35:00 AM }; { Open = 3985.0
                                           High = 3986.25
                                           Low = 3984.75
                                           Close = 3985.5
                                           Volume = 154.0
                                           Time = 7/22/2022 12:40:00 AM };
       { Open = 3985.5
         High = 3985.75
         Low = 3984.75
         Close = 3985.0
         Volume = 172.0
         Time = 7/22/2022 12:45:00 AM }; { Open = 3985.25
                                           High = 3985.75
                                           Low = 3984.75
                                           Close = 3985.0
                                           Volume = 227.0
                                           Time = 7/22/2022 12:50:00 AM };
       { Open = 3985.0
         High = 3985.25
         Low = 3984.5
         Close = 3984.75
         Volume = 168.0
         Time = 7/22/2022 12:55:00 AM }; { Open = 3985.0
                                           High = ...
                                           Low = ...
                                           Close = ...
                                           Volume = ...
                                           Time = ... }; ...|] }
val runEpisode:
  p: RL.Policy<RLState> * s: RLState -> RL.Policy<RLState> * RLState
val run: p: RL.Policy<RLState> * s: RLState -> RL.Policy<RLState> * RLState
val resetRun: unit -> RL.Policy<RLState> * RLState
val mutable _ps: RL.Policy<RLState> * RLState = <null>
val startResetRun: unit -> unit
val startReRun: unit -> unit

> val it: unit = ()

>
Binding session to 'C:/Users/Faisa/.nuget/packages/fsharpx.collections/3.0.1/lib/netstandard2.0/FSharpx.Collections.dll'...





Run: 0, R:0, E:0.010; Cash:3386.12; Stock:270; Gain:0.183084; Experienced:50000
model: current, Adg. Gain -  Test: 0.14539536, Train: -0.197589875





Run: 1, R:-0, E:0.010; Cash:1175627.38; Stock:0; Gain:0.175627; Experienced:50000
model: current, Adg. Gain -  Test: 0.11045088, Train: 0.267460125





Run: 2, R:0, E:0.010; Cash:3829.50; Stock:289; Gain:0.266543; Experienced:50000
model: current, Adg. Gain -  Test: 0.09333359999999999, Train: -0.011640375





Run: 3, R:-0, E:0.010; Cash:937068.50; Stock:0; Gain:-0.062932; Experienced:50000
model: current, Adg. Gain -  Test: 0.058184639999999996, Train: 0.21462075





Run: 4, R:0, E:0.010; Cash:4215.75; Stock:232; Gain:0.017882; Experienced:50000
model: current, Adg. Gain -  Test: -0.01118736, Train: 0.27270675





Run: 5, R:0, E:0.010; Cash:449.88; Stock:271; Gain:0.184517; Experienced:50000
model: current, Adg. Gain -  Test: 0.03559104, Train: 0.26885475





Run: 6, R:0, E:0.010; Cash:2782.50; Stock:311; Gain:0.361619; Experienced:50000
model: current, Adg. Gain -  Test: 0.25690464, Train: 0.171897125





Run: 7, R:0, E:0.010; Cash:723.38; Stock:298; Gain:0.302760; Experienced:50000
model: current, Adg. Gain -  Test: 0.19824624, Train: 0.12378499999999999





Run: 8, R:0, E:0.010; Cash:3172.62; Stock:266; Gain:0.165393; Experienced:50000
model: current, Adg. Gain -  Test: 0.270756, Train: -0.1495165





Run: 9, R:0, E:0.010; Cash:2216.25; Stock:243; Gain:0.063944; Experienced:50000
model: current, Adg. Gain -  Test: 0.1323792, Train: -0.12430100000000001





Run: 10, R:-0, E:0.010; Cash:1162679.88; Stock:0; Gain:0.162680; Experienced:50000
model: current, Adg. Gain -  Test: 0.18438623999999998, Train: -0.178147375





Run: 11, R:0, E:0.010; Cash:952.00; Stock:265; Gain:0.158803; Experienced:50000
model: current, Adg. Gain -  Test: 0.024894720000000002, Train: 0.203931375





Run: 12, R:0, E:0.010; Cash:2868.25; Stock:272; Gain:0.191304; Experienced:50000
model: current, Adg. Gain -  Test: 0.32818032, Train: -0.144296





Run: 13, R:0, E:0.010; Cash:2500.12; Stock:273; Gain:0.195305; Experienced:50000
model: current, Adg. Gain -  Test: -0.08890992, Train: 0.096185875





Run: 14, R:0, E:0.010; Cash:2591.00; Stock:308; Gain:0.348320; Experienced:50000
model: current, Adg. Gain -  Test: -0.03079872, Train: 0.017124375





Run: 15, R:0, E:0.010; Cash:4139.25; Stock:289; Gain:0.266852; Experienced:50000
model: current, Adg. Gain -  Test: 0.091656, Train: 0.22718475000000002





Run: 16, R:0, E:0.010; Cash:1630.62; Stock:243; Gain:0.063358; Experienced:50000
model: current, Adg. Gain -  Test: 0.0713376, Train: 0.213538875





Run: 17, R:0, E:0.010; Cash:2564.12; Stock:210; Gain:-0.079893; Experienced:50000
model: current, Adg. Gain -  Test: 0.0390744, Train: 0.211749125





Run: 18, R:0, E:0.010; Cash:4186.12; Stock:276; Gain:0.210099; Experienced:50000
model: current, Adg. Gain -  Test: 0.0867888, Train: -0.24450912500000002





Run: 19, R:0, E:0.010; Cash:1635.88; Stock:300; Gain:0.312411; Experienced:50000
model: current, Adg. Gain -  Test: 0.31240944000000004, Train: -0.29852575





Run: 20, R:0, E:0.010; Cash:502.38; Stock:275; Gain:0.202046; Experienced:50000
model: current, Adg. Gain -  Test: 0.11120112000000001, Train: 0.251702875





Run: 21, R:0, E:0.010; Cash:1024.25; Stock:267; Gain:0.167614; Experienced:50000
model: current, Adg. Gain -  Test: -0.06953759999999999, Train: 0.144322625





Run: 22, R:0, E:0.010; Cash:1659.12; Stock:294; Gain:0.286219; Experienced:50000
model: current, Adg. Gain -  Test: -0.036823680000000004, Train: 0.18900975





Run: 23, R:0, E:0.010; Cash:1210.25; Stock:284; Gain:0.242077; Experienced:50000
model: current, Adg. Gain -  Test: -0.1917072, Train: 0.184283





Run: 24, R:0, E:0.010; Cash:1072.75; Stock:286; Gain:0.250678; Experienced:50000
model: current, Adg. Gain -  Test: 0.04465296, Train: 0.026923





Run: 25, R:0, E:0.010; Cash:569.50; Stock:250; Gain:0.092882; Experienced:50000
model: current, Adg. Gain -  Test: -0.07729344, Train: 0.156672375





Run: 26, R:0, E:0.010; Cash:2661.00; Stock:256; Gain:0.121189; Experienced:50000
model: current, Adg. Gain -  Test: -0.06287328, Train: -0.311686125





Run: 27, R:0, E:0.010; Cash:4000.00; Stock:244; Gain:0.070097; Experienced:50000
model: current, Adg. Gain -  Test: -0.0575568, Train: 0.06262875





Run: 28, R:0, E:0.010; Cash:3080.12; Stock:254; Gain:0.112870; Experienced:50000
model: current, Adg. Gain -  Test: -0.08751600000000001, Train: 0.204499375





Run: 29, R:0, E:0.010; Cash:1248.25; Stock:255; Gain:0.115407; Experienced:50000
model: current, Adg. Gain -  Test: -0.014919840000000002, Train: 0.137117375





Run: 30, R:0, E:0.010; Cash:3920.12; Stock:245; Gain:0.074386; Experienced:50000
model: current, Adg. Gain -  Test: 0.010523520000000001, Train: 0.10796375





Run: 31, R:0, E:0.010; Cash:3511.38; Stock:286; Gain:0.253117; Experienced:50000
model: current, Adg. Gain -  Test: -0.18430848, Train: 0.201309125





Run: 32, R:-0, E:0.010; Cash:1110702.50; Stock:0; Gain:0.110702; Experienced:50000
model: current, Adg. Gain -  Test: -0.04421664, Train: 0.202208625





Run: 33, R:0, E:0.010; Cash:3677.25; Stock:240; Gain:0.052297; Experienced:50000
model: current, Adg. Gain -  Test: 0.006661439999999999, Train: 0.11742912500000001





Run: 34, R:0, E:0.010; Cash:4298.75; Stock:278; Gain:0.218950; Experienced:50000
model: current, Adg. Gain -  Test: -0.029835360000000002, Train: 0.14463975





Run: 35, R:0, E:0.010; Cash:939.75; Stock:265; Gain:0.158791; Experienced:50000
model: current, Adg. Gain -  Test: -0.02039184, Train: -0.034084





Run: 36, R:0, E:0.010; Cash:158.12; Stock:255; Gain:0.114317; Experienced:50000
model: current, Adg. Gain -  Test: 0.06702336, Train: 0.043766125





Run: 37, R:0, E:0.010; Cash:1311.50; Stock:272; Gain:0.189748; Experienced:50000
model: current, Adg. Gain -  Test: -0.01427904, Train: 0.055378875





Run: 38, R:0, E:0.010; Cash:510.00; Stock:276; Gain:0.206423; Experienced:50000
model: current, Adg. Gain -  Test: -0.10432944000000001, Train: 0.18346175





Run: 39, R:0, E:0.010; Cash:534.12; Stock:227; Gain:-0.007646; Experienced:50000
model: current, Adg. Gain -  Test: 0.21345696000000003, Train: 0.24636375





Run: 40, R:0, E:0.010; Cash:1989.88; Stock:257; Gain:0.124887; Experienced:50000
model: current, Adg. Gain -  Test: 0.12109248000000002, Train: 0.238206875





Run: 41, R:0, E:0.010; Cash:1616.25; Stock:238; Gain:0.041498; Experienced:50000
model: current, Adg. Gain -  Test: -0.08001648, Train: 0.036041





Run: 42, R:0, E:0.010; Cash:938.62; Stock:275; Gain:0.202482; Experienced:50000
model: current, Adg. Gain -  Test: 0.07813584, Train: -0.163904





Run: 43, R:0, E:0.010; Cash:142.00; Stock:262; Gain:0.144886; Experienced:50000
model: current, Adg. Gain -  Test: 0.06868224, Train: 0.159000125





Run: 44, R:0, E:0.010; Cash:2725.38; Stock:263; Gain:0.151838; Experienced:50000
model: current, Adg. Gain -  Test: 0.057748320000000006, Train: -0.17518





Run: 45, R:0, E:0.010; Cash:3571.25; Stock:220; Gain:-0.035194; Experienced:50000
model: current, Adg. Gain -  Test: 0.21069504, Train: -0.202968625





Run: 46, R:0, E:0.010; Cash:2091.00; Stock:268; Gain:0.173050; Experienced:50000
model: current, Adg. Gain -  Test: -0.045292320000000004, Train: 0.099737625





Run: 47, R:0, E:0.010; Cash:222.62; Stock:268; Gain:0.171182; Experienced:50000
model: current, Adg. Gain -  Test: -0.13021487999999998, Train: 0.1807565





Run: 48, R:0, E:0.010; Cash:3313.75; Stock:262; Gain:0.148057; Experienced:50000
model: current, Adg. Gain -  Test: -0.023247359999999998, Train: -0.219155375





Run: 49, R:0, E:0.010; Cash:1172.38; Stock:281; Gain:0.228932; Experienced:50000
model: current, Adg. Gain -  Test: -0.11597903999999999, Train: 0.3262845





Run: 50, R:0, E:0.010; Cash:4338.00; Stock:280; Gain:0.227728; Experienced:50000
model: current, Adg. Gain -  Test: 0.02196864, Train: 0.216631





Run: 51, R:0, E:0.010; Cash:2903.75; Stock:248; Gain:0.086478; Experienced:50000
model: current, Adg. Gain -  Test: -0.11105424, Train: 0.24990512500000003





Run: 52, R:0, E:0.010; Cash:3667.50; Stock:265; Gain:0.161519; Experienced:50000
model: current, Adg. Gain -  Test: -0.24183503999999997, Train: -0.213591375





Run: 53, R:0, E:0.010; Cash:2508.38; Stock:235; Gain:0.029282; Experienced:50000
model: current, Adg. Gain -  Test: -0.07900416, Train: 0.12977075





Run: 54, R:0, E:0.010; Cash:3110.62; Stock:256; Gain:0.121639; Experienced:50000
model: current, Adg. Gain -  Test: -0.00916704, Train: 0.280641





Run: 55, R:0, E:0.010; Cash:2696.88; Stock:240; Gain:0.051317; Experienced:50000
model: current, Adg. Gain -  Test: 0.034532639999999996, Train: -0.072907125





Run: 56, R:0, E:0.010; Cash:186.50; Stock:272; Gain:0.188622; Experienced:50000
model: current, Adg. Gain -  Test: 0.17101584000000003, Train: 0.30419775





Run: 57, R:0, E:0.010; Cash:3757.88; Stock:265; Gain:0.161609; Experienced:50000
model: current, Adg. Gain -  Test: 0.12956256, Train: 0.32410725





Run: 58, R:0, E:0.010; Cash:1862.25; Stock:257; Gain:0.124759; Experienced:50000
model: current, Adg. Gain -  Test: 0.20984255999999998, Train: -0.05544425000000001





Run: 59, R:0, E:0.010; Cash:2454.88; Stock:275; Gain:0.203999; Experienced:50000
model: current, Adg. Gain -  Test: -0.16915824000000002, Train: 0.317272





Run: 60, R:-0, E:0.010; Cash:959822.88; Stock:0; Gain:-0.040177; Experienced:50000
model: current, Adg. Gain -  Test: 0.014708160000000001, Train: 0.368350125





Run: 61, R:0, E:0.010; Cash:1669.75; Stock:240; Gain:0.050290; Experienced:50000
model: current, Adg. Gain -  Test: 0.03972672, Train: 0.28062525





Run: 62, R:0, E:0.010; Cash:2579.50; Stock:280; Gain:0.225969; Experienced:50000
model: current, Adg. Gain -  Test: 0.08877456, Train: 0.22557325





Run: 63, R:0, E:0.010; Cash:3087.25; Stock:259; Gain:0.134723; Experienced:50000
model: current, Adg. Gain -  Test: -0.06939216000000001, Train: 0.3030435





Run: 64, R:0, E:0.010; Cash:2777.00; Stock:217; Gain:-0.049096; Experienced:50000
model: current, Adg. Gain -  Test: 0.08665488, Train: -0.11338250000000001





Run: 65, R:0, E:0.010; Cash:982.25; Stock:273; Gain:0.193788; Experienced:50000
model: current, Adg. Gain -  Test: -0.07700831999999999, Train: 0.37880125





Run: 66, R:-0, E:0.010; Cash:1133065.38; Stock:0; Gain:0.133065; Experienced:50000
model: current, Adg. Gain -  Test: 0.08279568, Train: 0.29428075





Run: 67, R:0, E:0.010; Cash:496.50; Stock:261; Gain:0.140871; Experienced:50000
model: current, Adg. Gain -  Test: -0.20133648, Train: 0.175521625





Run: 68, R:0, E:0.010; Cash:1889.75; Stock:288; Gain:0.260234; Experienced:50000
model: current, Adg. Gain -  Test: 0.06147792, Train: -0.039823625





Run: 69, R:0, E:0.010; Cash:3570.25; Stock:263; Gain:0.152683; Experienced:50000
model: current, Adg. Gain -  Test: 0.08211024, Train: -0.003649625





Run: 70, R:0, E:0.010; Cash:2234.62; Stock:282; Gain:0.234363; Experienced:50000
model: current, Adg. Gain -  Test: 0.144108, Train: 0.324106





Run: 71, R:0, E:0.010; Cash:1125.88; Stock:263; Gain:0.150239; Experienced:50000
model: current, Adg. Gain -  Test: -0.021775680000000002, Train: 0.328650375





Run: 72, R:0, E:0.010; Cash:193.12; Stock:232; Gain:0.013859; Experienced:50000
model: current, Adg. Gain -  Test: -0.04665744, Train: 0.3895045





Run: 73, R:0, E:0.010; Cash:806.38; Stock:273; Gain:0.193612; Experienced:50000
model: current, Adg. Gain -  Test: -0.26187984, Train: 0.237251875





Run: 74, R:0, E:0.010; Cash:2430.50; Stock:251; Gain:0.099112; Experienced:50000
model: current, Adg. Gain -  Test: -0.20140703999999998, Train: 0.171048875





Run: 75, R:0, E:0.010; Cash:1046.88; Stock:277; Gain:0.211329; Experienced:50000
model: current, Adg. Gain -  Test: 0.07141824, Train: 0.323117125





Run: 76, R:0, E:0.010; Cash:2052.50; Stock:265; Gain:0.159904; Experienced:50000
model: current, Adg. Gain -  Test: 0.17892576, Train: -0.087027875





Run: 77, R:0, E:0.010; Cash:1614.62; Stock:287; Gain:0.255589; Experienced:50000
model: current, Adg. Gain -  Test: -0.23815440000000002, Train: 0.366760125





Run: 78, R:0, E:0.010; Cash:3508.50; Stock:283; Gain:0.240006; Experienced:50000
model: current, Adg. Gain -  Test: -0.04364784, Train: 0.021372





Run: 79, R:0, E:0.010; Cash:1499.25; Stock:279; Gain:0.220520; Experienced:50000
model: current, Adg. Gain -  Test: -0.01214928, Train: 0.295575875





Run: 80, R:0, E:0.010; Cash:979.38; Stock:276; Gain:0.206892; Experienced:50000
model: current, Adg. Gain -  Test: 0.01063296, Train: 0.034997875





Run: 81, R:0, E:0.010; Cash:1080.50; Stock:266; Gain:0.163301; Experienced:50000
model: current, Adg. Gain -  Test: 0.08693856, Train: 0.332932375





Run: 82, R:0, E:0.010; Cash:661.75; Stock:271; Gain:0.184728; Experienced:50000
model: current, Adg. Gain -  Test: -0.00310032, Train: 0.34649875





Run: 83, R:0, E:0.010; Cash:863.62; Stock:273; Gain:0.193669; Experienced:50000
model: current, Adg. Gain -  Test: -0.0228888, Train: 0.3148615





Run: 84, R:0, E:0.010; Cash:3479.50; Stock:229; Gain:0.004038; Experienced:50000
model: current, Adg. Gain -  Test: 0.24133680000000002, Train: 0.112648





Run: 85, R:0, E:0.010; Cash:4000.00; Stock:275; Gain:0.205544; Experienced:50000
model: current, Adg. Gain -  Test: 0.22408704000000002, Train: -0.1390415





Run: 86, R:0, E:0.010; Cash:1212.88; Stock:268; Gain:0.172172; Experienced:50000
model: current, Adg. Gain -  Test: -0.16802064000000003, Train: 0.353862875





Run: 87, R:0, E:0.010; Cash:3603.50; Stock:254; Gain:0.113393; Experienced:50000
model: current, Adg. Gain -  Test: 0.0024220799999999996, Train: 0.18044175





Run: 88, R:-0, E:0.010; Cash:1163766.50; Stock:0; Gain:0.163767; Experienced:50000
model: current, Adg. Gain -  Test: -0.1034712, Train: 0.411897





Run: 89, R:0, E:0.010; Cash:1704.62; Stock:229; Gain:0.002263; Experienced:50000
model: current, Adg. Gain -  Test: -0.05712048000000001, Train: -0.025683





Run: 90, R:0, E:0.010; Cash:3903.50; Stock:266; Gain:0.166124; Experienced:50000
model: current, Adg. Gain -  Test: 0.15403824, Train: -0.015139125000000002





Run: 91, R:0, E:0.010; Cash:4072.38; Stock:235; Gain:0.030846; Experienced:50000
model: current, Adg. Gain -  Test: -0.13981968, Train: 0.292059125





Run: 92, R:0, E:0.010; Cash:1750.38; Stock:261; Gain:0.142125; Experienced:50000
model: current, Adg. Gain -  Test: 0.046886399999999995, Train: -0.059743500000000005





Run: 93, R:0, E:0.010; Cash:3972.12; Stock:270; Gain:0.183670; Experienced:50000
model: current, Adg. Gain -  Test: -0.12847967999999999, Train: 0.322730375





Run: 94, R:-0, E:0.010; Cash:1114308.75; Stock:0; Gain:0.114309; Experienced:50000
model: current, Adg. Gain -  Test: -0.21212496, Train: -0.00451825





Run: 95, R:0, E:0.010; Cash:621.25; Stock:235; Gain:0.027395; Experienced:50000
model: current, Adg. Gain -  Test: -0.14241888, Train: 0.422582





Run: 96, R:-0, E:0.010; Cash:1195378.00; Stock:0; Gain:0.195378; Experienced:50000
model: current, Adg. Gain -  Test: 0.03491136, Train: 0.183100375





Run: 97, R:0, E:0.010; Cash:3751.38; Stock:281; Gain:0.231511; Experienced:50000
model: current, Adg. Gain -  Test: 0.043986239999999996, Train: -0.11324687500000001





Run: 98, R:0, E:0.010; Cash:1727.50; Stock:252; Gain:0.102778; Experienced:50000
model: current, Adg. Gain -  Test: 0.06934752, Train: -0.01796675





Run: 99, R:0, E:0.010; Cash:2770.12; Stock:265; Gain:0.160621; Experienced:50000
model: current, Adg. Gain -  Test: 0.00194976, Train: 0.06188712500000001





Run: 100, R:0, E:0.010; Cash:527.50; Stock:236; Gain:0.031670; Experienced:50000
model: current, Adg. Gain -  Test: -0.045943200000000003, Train: -0.11477699999999999





Run: 101, R:0, E:0.010; Cash:1542.62; Stock:254; Gain:0.111332; Experienced:50000
model: current, Adg. Gain -  Test: 0.02244384, Train: 0.2735615





Run: 102, R:0, E:0.010; Cash:2884.88; Stock:291; Gain:0.274337; Experienced:50000
model: current, Adg. Gain -  Test: -0.00538704, Train: 0.216986





Run: 103, R:0, E:0.010; Cash:738.12; Stock:268; Gain:0.171697; Experienced:50000
model: current, Adg. Gain -  Test: 0.34501104, Train: 0.31390275





Run: 104, R:0, E:0.010; Cash:3463.50; Stock:259; Gain:0.135099; Experienced:50000
model: current, Adg. Gain -  Test: 0.15666048000000002, Train: 0.279529125





Run: 105, R:0, E:0.010; Cash:1667.12; Stock:269; Gain:0.176995; Experienced:50000
model: current, Adg. Gain -  Test: -0.028087200000000003, Train: -0.043124625





Run: 106, R:0, E:0.010; Cash:4154.75; Stock:272; Gain:0.192591; Experienced:50000
model: current, Adg. Gain -  Test: -0.08943264000000001, Train: -0.09246125





Run: 107, R:0, E:0.010; Cash:2734.25; Stock:271; Gain:0.186801; Experienced:50000
model: current, Adg. Gain -  Test: 0.02824416, Train: -0.104784375





Run: 108, R:0, E:0.010; Cash:2131.38; Stock:244; Gain:0.068228; Experienced:50000
model: current, Adg. Gain -  Test: -0.03954528, Train: -0.108872125





Run: 109, R:0, E:0.010; Cash:1017.25; Stock:275; Gain:0.202561; Experienced:50000
model: current, Adg. Gain -  Test: -0.11405231999999998, Train: 0.322720375





Run: 110, R:0, E:0.010; Cash:757.12; Stock:283; Gain:0.237255; Experienced:50000
model: current, Adg. Gain -  Test: -0.24997535999999998, Train: 0.304039875





Run: 111, R:0, E:0.010; Cash:533.25; Stock:282; Gain:0.232662; Experienced:50000
model: current, Adg. Gain -  Test: 0.23054543999999996, Train: -0.08443925





Run: 112, R:0, E:0.010; Cash:697.50; Stock:268; Gain:0.171656; Experienced:50000
model: current, Adg. Gain -  Test: -0.01993392, Train: 0.381543375





Run: 113, R:0, E:0.010; Cash:1210.62; Stock:283; Gain:0.237708; Experienced:50000
model: current, Adg. Gain -  Test: 0.06294816, Train: 0.337275375





Run: 114, R:0, E:0.010; Cash:2464.12; Stock:256; Gain:0.120992; Experienced:50000
model: current, Adg. Gain -  Test: -0.23351471999999998, Train: 0.397845875





Run: 115, R:0, E:0.010; Cash:3163.38; Stock:269; Gain:0.178492; Experienced:50000
model: current, Adg. Gain -  Test: 0.03514464, Train: -0.11690625





Run: 116, R:0, E:0.010; Cash:746.75; Stock:283; Gain:0.237244; Experienced:50000
model: current, Adg. Gain -  Test: -0.13939200000000002, Train: 0.409381375





Run: 117, R:0, E:0.010; Cash:1072.12; Stock:277; Gain:0.211354; Experienced:50000
model: current, Adg. Gain -  Test: -0.11635343999999999, Train: 0.4684447500000001





Run: 118, R:0, E:0.010; Cash:2874.00; Stock:263; Gain:0.151987; Experienced:50000
model: current, Adg. Gain -  Test: -0.19418256, Train: 0.321227





Run: 119, R:0, E:0.010; Cash:285.88; Stock:263; Gain:0.149399; Experienced:50000
model: current, Adg. Gain -  Test: 0.16335792000000002, Train: -0.08239325





Run: 120, R:0, E:0.010; Cash:925.88; Stock:289; Gain:0.263639; Experienced:50000
model: current, Adg. Gain -  Test: -0.3098304, Train: 0.320471125





Run: 121, R:0, E:0.010; Cash:1316.12; Stock:241; Gain:0.054305; Experienced:50000
model: current, Adg. Gain -  Test: 0.18979632, Train: -0.12358900000000002

"""

#r "nuget: Plotly.NET"
open System.IO
open Plotly.NET
open System

let lines() = 
    seq {
        use sr = new StringReader(s)
        let mutable ln = sr.ReadLine()
        while ln <> null do
            if String.IsNullOrWhiteSpace ln |> not then 
                yield ln
            ln <- sr.ReadLine()
    }

lines() |> Seq.toArray

let gains = 
    lines() 
    |> Seq.filter (fun l -> l.StartsWith("Run")) 
    |> Seq.map (fun x->x.Split([|':';' ';',';';'|],StringSplitOptions.RemoveEmptyEntries))
    |> Seq.map (fun xs -> {|Run=int xs.[1]; Gain= float xs.[11]|})
    |> Seq.toArray

let evals = 
    lines() 
    |> Seq.filter (fun l -> l.StartsWith("model")) 
    |> Seq.map (fun x->x.Split([|':';' ';',';';'|],StringSplitOptions.RemoveEmptyEntries))
    |> Seq.map (fun xs -> {|Test=float xs.[6]; Train= float xs.[8]|})
    |> Seq.toArray

gains |> Seq.map (fun g -> g.Run,g.Gain) |> Chart.Line |> Chart.show
evals |> Seq.map (fun g -> g.Train,g.Test) |> Chart.Line |> Chart.show
let testEvals = evals |> Seq.map (fun g -> g.Test)
let trainEvals = evals |> Seq.map (fun g->g.Train)
Chart.Histogram2D(trainEvals,testEvals)  |> Chart.show 





